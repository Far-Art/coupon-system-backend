{"version":3,"sources":["Services/RouteUrls.ts","reportWebVitals.ts","ToastifyNotifications/ToastTransition.ts","Assets/Logo/logo-bordo.svg","Models/ClientType.ts","Redux/Hooks/hooks.ts","Components/LayoutArea/Header/Header.tsx","Components/LayoutArea/FlippableSignInCard/FlippableCard.tsx","Services/ApiGlobalLogic.ts","Redux/Actions/CompanyAction.ts","Redux/Actions/CouponAction.ts","Redux/Actions/CustomerAction.ts","Redux/States/CouponsAppState.ts","Models/CouponModel.ts","Redux/Actions/CartAction.ts","Redux/States/CartAppState.ts","Redux/Actions/ClientAction.ts","Redux/Actions/RevertAction.ts","Redux/States/ClientCouponsAppState.ts","Redux/States/CompaniesAppState.ts","Redux/Reducers/CompanyReducer.ts","Redux/States/CurrentClientAppState.ts","Redux/States/CustomersAppState.ts","Models/FilterType.ts","Redux/Actions/FilterAction.ts","Redux/Reducers/CustomerReducer.ts","Redux/States/FiltersAppState.ts","Redux/Actions/CategoriesAction.ts","Redux/States/CategoriesAppState.ts","Redux/Actions/ColorPaletteAction.ts","Models/ColorPaletteTypes.ts","Redux/States/ColorPaletteState.ts","Redux/Store/RootReducer.ts","Redux/Reducers/CurrentClientReducer.ts","Redux/Reducers/AppCouponsReducer.ts","Redux/Reducers/ClientCouponsReducer.ts","Redux/Reducers/FiltersReducer.ts","Redux/Reducers/CartReducer.ts","Redux/Reducers/CategoriesReducer.ts","Redux/Reducers/ColorPaletteReducer.ts","Redux/Store/Store.ts","Services/Globals.ts","Services/GlobalDataStreamer.ts","Components/LayoutArea/Logout/Logout.tsx","Services/IdleTimerApi.ts","Components/LayoutArea/Login/Login.tsx","Components/LayoutArea/Sign_up/Sign_up.tsx","Components/LayoutArea/NavBar/NavBar.tsx","Components/InputArea/AddItemElement/AddItemElement.tsx","Components/LayoutArea/Menu/Menu.tsx","Services/Currency.ts","Components/SharedArea/EmptyView/EmptyView.tsx","Components/InputArea/CheckBox/CheckBox.tsx","Components/FiltersArea/Filters/CategoriesFilter/CategoriesFilter.tsx","Components/FiltersArea/Filters/CompaniesFilter/CompaniesFilter.tsx","Components/FiltersArea/Filters/FreeTextFilter/FreeTextFilter.tsx","Components/FiltersArea/Filters/PriceFilter/PriceFilter.tsx","Components/FiltersArea/Filters/IdFilter/IdFilter.tsx","Components/FiltersArea/FiltersContainer/FiltersContainer.tsx","Components/CouponsArea/CouponCard/CouponCard.tsx","Components/InputArea/EditableTableRow/EditableTableRow.tsx","Components/CouponsArea/CouponsContainer/CouponsContainer.tsx","Components/LayoutArea/Cart/Cart.tsx","Components/InputArea/CreateCompanyForm/CreateCompanyForm.tsx","Components/InputArea/CreateCouponForm/CreateCouponForm.tsx","Components/InputArea/CreateCustomerForm/CreateCustomerForm.tsx","Components/SharedArea/Toasts/EmitActionToast.tsx","Components/CompaniesArea/CompaniesContainer/CompaniesContainer.tsx","Components/CustomersArea/CustomersContainer/CustomersContainer.tsx","Components/InputArea/InitData/InitData.tsx","Components/LayoutArea/ClientsContainer/ClientsContainer.tsx","Components/LayoutArea/MainView/MainView.tsx","Components/LayoutArea/ClientCard/ClientCard.tsx","Components/LayoutArea/ProfileView/ProfileView.tsx","Components/SharedArea/CreditsPage/CreditsPage.tsx","Components/LayoutArea/Routing/Routing.tsx","Components/LayoutArea/Footer/Footer.tsx","Components/LayoutArea/DarkMode/DarkMode.tsx","Components/LayoutArea/Layout/Layout.tsx","index.tsx"],"names":["RouteUrls","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","slide_in_right","cssTransition","enter","exit","ClientType","useAppSelector","useSelector","Header","clientType","state","currentClientState","client","className","to","HOME","id","ADMIN","src","logo","alt","FlippableCard","props","useState","isDisplayed","setIsDisplayed","displayed","setdisplayed","isFlipped","setIsFlipped","flipped","setflipped","flip","onClick","buttonStyleClass","Icon","component","CloseIcon","mainButtonText","frontButtonText","frontElement","backButtonText","backElement","ApiGlobalLogic","patterns","regex","email","password","complexDate","simpleDate","numbers","string","integers","price","forms","fieldsMinLength","telephone","fieldsMaxLength","errorDescriptions","minLength","customerName","items","coupon","title","description","amount","customer","name","company","companyName","couponTitle","maxLength","badPattern","CompaniesActionType","CouponActionType","CustomerActionType","deleteCompany","companyId","type","DELETE","payload","updateCompany","UPDATE","deleteCoupon","couponId","DELETE_COUPON","updateCoupon","UPDATE_COUPON","deleteCustomer","customerId","updateCustomer","CouponsAppState","appCouponsList","CartActionType","CouponModel","companyEmail","category","startDate","endDate","imageUrl","clearCart","CLEAR_CART","ClientActionType","RevertActionType","CartAppState","forPurchaseCouponsList","loginAction","login","LOGIN","logoutAction","LOGOUT","undefined","ClientCouponsAppState","clientCouponsList","CompaniesAppState","appCompaniesList","companiesList","toUpdate","i","length","CurrentClientAppState","token","loginTimeInMillis","idleDisconnectIntervalInMillis","FilterType","FilterActionType","CustomersAppState","appCustomersList","customersList","addFilter","filterType","filter","ADD","filterKey","filterValue","clearFilters","CLEAR","FiltersAppState","categoriesList","priceList","freeText","filtersActive","CategoriesActionType","ColorPaletteType","ColorPaletteTypes","CategoriesAppState","categories","changePalette","palette","CHANGE_PALETTE","ColorPaletteState","NORMAL","rootReducer","combineReducers","action","newState","Date","now","REQUEST_INFO","EXTEND_TOKEN","couponsAppState","currentState","push","GET_SINGLE","FETCH_ALL","c","clientCouponsState","FETCH_BY_COMPANY","FETCH_BY_CUSTOMER","index","findIndex","splice","DISMISS_ALL_COUPONS","REVERT_STATE","filterAppState","CATEGORIES","PRICE","COMPANIES","TEXT","ID","REMOVE","customersAppState","companiesAppState","cartAppState","cartState","ADD_TO_CART","DELETE_FROM_CART","DELETE_BATCH_FROM_CART","includes","categoriesAppState","SYNC_CATEGORIES","map","replaceAll","colorPaletteState","paletteState","persistConfig","key","storage","blacklist","persistReducer","store","createStore","persistedReducer","window","__REDUX_DEVTOOLS_EXTENSION__","persistor","persistStore","Globals","globals","urls","pushdata","signup","logout","extendToken","clientInfo","companies","customers","coupons","couponImage","purchase","GlobalDataStreamer","this","emitToast","axios","get","appendBody","response","toast","dismiss","dispatch","data","catch","error","errorToast","post","successToast","delete","put","numOfCustomers","numOfCompanies","couponIds","warnToast","info","repsonse","imageName","responseType","timeout","timeoutErrorMessage","headers","getState","toastId","onLoading","loading","theme","closeOnClick","autoClose","update","render","isLoading","pause","purge","persist","Logout","IdleTimerApi","onMount","updateData","clientLoginTime","idleTimerThresholdInterval","resetIdleTimeout","dispatchTokenUpdateThresholdInterval","updateLoginTime","idleTimer","clearTimeout","idleTimeout","clearInterval","idleIntervalTimerActions","setTimeout","setInterval","idleTimerUpdateInterval","emitToastThresholdInterval","warn","extendTokenExpiration","initialIdleTimerThresholdInterval","emitToastValuePercentage","dispatchTokenUpdateValuePercentage","cancelTimers","dispatchToast","warning","Login","useForm","register","handleSubmit","reset","errors","formState","onSubmit","startIdleTimer","placeholder","required","value","message","pattern","Sign_up","defaultValues","CUSTOMER","setValue","setClientType","send","a","apiGlobalLogic","lastName","COMPANY","requiredFields","onChange","event","target","console","log","handleChange","NavBar","currentClient","nameToCapital","charAt","toUpperCase","substring","toLowerCase","timeOfDay","timeNow","getHours","AddItemElement","AddIcon","CREATE_COUPON","CREATE_CUSTOMER","CREATE_COMPANY","Menu","HomeIcon","active","PersonRoundedIcon","ShoppingCartIcon","AppCurrencySymbol","EmptyView","width","height","text","CheckBox","checked","setChecked","isActive","useEffect","toString","CategoriesFilter","setCategories","Array","from","Set","CompaniesFilter","setCompanies","FreeTextFilter","control","FreeTextFilterWatched","useWatch","defaultValue","PriceFilter","evalNumber","number","Math","trunc","parseFloat","maxNumber","currentTarget","handleCHange","onMouseUp","handleDispatchValue","min","max","IdFilter","IdFilterWatched","FiltersContainer","view","setView","clients","CouponCard","find","addToCart","success","icon","validStartDate","getTime","formatDate","date","jsDate","year","getFullYear","month","getMonth","day","getDate","toFixed","EditableTableRow","object","newObject","setNewObject","inEditMode","toastComponent","objectModel","result","onSave","CheckIcon","position","setNewObjectValue","Map","Object","entries","set","fromEntries","setWarningClass","timeNowInMillis","parse","toLocaleDateString","setCellWidth","inputByValueType","onBlur","onKeyDown","blur","step","clientTypes","keys","counter","keyValueArrays","ignoreFieldsFunction","isHeader","style","nonEditableFields","editableValueValidation","tdClassName","CouponsContainer","editCouponWithId","setEditCouponWithId","setCoupons","appfilters","filteredMapFromObject","model","tempMapArray","mainLoop","ignoreFields","ignored","renderAsList","preventToast","renderAsCards","renderEmptyView","deleteFromCartHandler","item","couponsList","filteredList","onlyValid","filterCoupons","sort","random","editable","EditIcon","DeleteIcon","hideProgressBar","pauseOnHover","draggable","progress","insteadOfDisplayedText","asList","Cart","setState","removeExpiredCoupons","useCallback","toDelete","classNameHandler","isDisabledHandler","disabled","toPurchase","purchaseCoupons","buyHandler","reduce","sum","currentCoupon","CreateCompanyForm","addCompany","CreateCouponForm","addCoupon","CreateCustomerForm","addCustomer","emitActionToast","clientTypeString","isEditable","editCallback","editCallbackParam","deleteCallback","deleteCallbackParam","CompaniesContainer","editCompanyWithId","setEditCompanyWithId","filterCustomers","CustomersContainer","editCustomerWithId","setEditCustomerWithId","setCustomers","InitData","initData","ClientsContainer","allCustomers","allCompanies","MainView","clientCoupons","appCoupons","fetchAllCategories","fetchCouponsByCompany","fetchCouponsByCustomer","fetchAllCoupons","fetchAllCustomers","fetchAllCompanies","document","body","scrollTop","documentElement","ClientCard","camelCaseSplit","word","newWord","letter","test","blurStyle","objectEntries","testValue","textTransform","renderTable","ProfileView","fetchClientInfo","dismissAllCoupons","CreditsPage","rel","href","Routing","path","exact","PROFILE","CART","Footer","DarkMode","colorPalette","toggled","setToggled","clickHandle","DARK","NightlightIcon","WbSunnyIcon","Layout","clientMadeAction","limit","transition","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eb649be5.chunk.js","sourcesContent":["export enum RouteUrls{\r\n    HOME = \"/home\",\r\n    LOGIN = \"/login\",\r\n    SIGNUP = \"/signup\",\r\n    LOGOUT = \"/logout\",\r\n    COMPANIES = \"/companies\",\r\n    CUSTOMERS = \"/customers\",\r\n    COUPONS = \"/coupons\",\r\n    CART = \"/cart\",\r\n    PROFILE = \"/profile\",\r\n    CREATE_COUPON = \"/createpage/coupon\",\r\n    CREATE_COMPANY = \"/createpage/company\",\r\n    CREATE_CUSTOMER = \"/createpage/customer\"\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { cssTransition } from \"react-toastify\";\r\n\r\nconst slide_in_right = cssTransition({\r\n    enter: \"slide-in\",\r\n    exit: \"slide-out\"\r\n});\r\n\r\nexport default slide_in_right;","export default __webpack_public_path__ + \"static/media/logo-bordo.9a59480f.svg\";","export enum ClientType {\r\n    ADMIN = \"ADMIN\",\r\n    CUSTOMER = \"CUSTOMER\",\r\n    COMPANY = \"COMPANY\"\r\n}","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"../Store/Store\";\r\n\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()","import \"./Header.css\";\r\nimport logo from \"../../../Assets/Logo/logo-bordo.svg\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { RouteUrls } from \"../../../Services/RouteUrls\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\n\r\nexport default function Header(): JSX.Element {\r\n\r\n    const clientType = useAppSelector(state =>\r\n        state.currentClientState.client?.clientType\r\n    );\r\n\r\n    return (\r\n        <div className=\"Header\">\r\n            <NavLink to={RouteUrls.HOME}>\r\n                <div className=\"Header_Background\">\r\n                    <img id=\"logo\" className={clientType === ClientType.ADMIN ? \"RotateLogo\" : \"\"} src={logo} alt=\"logo\" />\r\n                    <h1>Coupons As Art</h1>\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}","import \"./FlippableCard.css\";\r\nimport { ReactElement, useState } from \"react\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\ninterface FlippableProps {\r\n    mainButtonText?: string;\r\n    frontElement?: ReactElement<any, any>;\r\n    backElement?: ReactElement<any, any>;\r\n    frontButtonText?: string;\r\n    backButtonText?: string;\r\n    buttonStyleClass?: string;\r\n}\r\n\r\nfunction FlippableCard(props: FlippableProps): JSX.Element {\r\n\r\n\r\n    const [isDisplayed, setIsDisplayed] = useState(false);\r\n    const [displayed, setdisplayed] = useState(\"\");\r\n\r\n    const [isFlipped, setIsFlipped] = useState(false);\r\n    const [flipped, setflipped] = useState(\"\");\r\n\r\n    function flip() {\r\n        if (isFlipped) {\r\n            setIsFlipped(false);\r\n            setflipped(\"\");\r\n        } else {\r\n            setIsFlipped(true);\r\n            setflipped(\"flipped\");\r\n        }\r\n    }\r\n\r\n    function display() {\r\n        if (isDisplayed) {\r\n            setIsDisplayed(false);\r\n            setdisplayed(\"\");\r\n        } else {\r\n            setIsDisplayed(true);\r\n            setdisplayed(\"ShowLoginMenu\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"FlippableCard\">\r\n                <button onClick={() => display()} className={props.buttonStyleClass ? props.buttonStyleClass : \"\"} > {!isDisplayed ? props.mainButtonText ? props.mainButtonText : \"2 Sided Card\" : <Icon component={CloseIcon} />}</button>\r\n                <div className={\"card \" + flipped + \" \" + displayed}>\r\n                    <div className=\"front face\">\r\n                        <button onClick={() => flip()} className={\"ROTATE \" + props.buttonStyleClass ? props.buttonStyleClass : \"\"}> {props.frontButtonText ? props.frontButtonText : \"Rotate\"} </button>\r\n                        {props.frontElement ? props.frontElement : <div>Face of a card</div>}\r\n                    </div>\r\n                    <div className=\"back face\">\r\n                        <button onClick={() => flip()} className={\"ROTATE \" + props.buttonStyleClass ? props.buttonStyleClass : \"\"}> {props.backButtonText ? props.backButtonText : \"Rotate\"} </button>\r\n                        {props.backElement ? props.backElement : <div>Back of a card</div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FlippableCard;","export default class ApiGlobalLogic{\r\n\r\n    public static patterns = {\r\n        regex:{\r\n            email: /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/,\r\n            password: /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])/,\r\n            complexDate: /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/,\r\n            simpleDate: /^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/,\r\n            numbers: /^\\d+$/\r\n        },\r\n        string: {\r\n            complexDate: \"(?:19|20)(?:(?:[13579][26]|[02468][048])-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))|(?:[0-9]{2}-(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:29|30))|(?:(?:0[13578]|1[02])-31)))\",\r\n            integers: \"[0-9]\",\r\n            price: \"d+(,d{2})?\"\r\n        }\r\n    }\r\n\r\n    public static forms = {\r\n        fieldsMinLength: {\r\n            email: 4,\r\n            password: 6,\r\n            telephone: 9\r\n        },\r\n\r\n        fieldsMaxLength: {\r\n            email: 50,\r\n            password: 16,\r\n            telephone: 10\r\n        }\r\n    }\r\n\r\n    public static items = {\r\n        coupon: {\r\n            fieldsMinLength: {\r\n                title: 2,\r\n                description: 0,\r\n                amount: 0,\r\n                price: 0\r\n            },\r\n    \r\n            fieldsMaxLength: {\r\n                title: 60,\r\n                description: 200,\r\n                price: 9999,\r\n                amount: 2147483647\r\n            }\r\n        },\r\n        customer: {\r\n            fieldsMinLength: {\r\n                name: 1\r\n            },\r\n            fieldsMaxLength: {\r\n                name: 60\r\n            }\r\n        },\r\n        company: {\r\n            fieldsMinLength: {\r\n                name: 2\r\n            },\r\n            fieldsMaxLength: {\r\n                name: 200\r\n            }\r\n        },\r\n    }\r\n\r\n    public static errorDescriptions = {\r\n        minLength: {\r\n            customerName: `Name must include at least ${ApiGlobalLogic.items.customer.fieldsMinLength.name} characters`,\r\n            companyName: `Company name must include at least ${ApiGlobalLogic.items.company.fieldsMinLength.name} characters`,\r\n            email: `Email must include at least ${ApiGlobalLogic.forms.fieldsMinLength.email} characters`,\r\n            password: `Password must include at least ${ApiGlobalLogic.forms.fieldsMinLength.password} symbols`,\r\n            telephone: `Telephone must include at least ${ApiGlobalLogic.forms.fieldsMinLength.telephone} numbers`,\r\n            couponTitle: `Title must include at least ${ApiGlobalLogic.items.coupon.fieldsMinLength.title} characters`,\r\n            price: `Price must start from ${ApiGlobalLogic.items.coupon.fieldsMinLength.price}`\r\n        },\r\n\r\n        maxLength: {\r\n            customerName: `Name cannot exceed ${ApiGlobalLogic.items.customer.fieldsMaxLength.name} characters`,\r\n            companyName: `Company name cannot exceed ${ApiGlobalLogic.items.company.fieldsMaxLength.name} characters`,\r\n            email: `Email cannot exceed ${ApiGlobalLogic.forms.fieldsMaxLength.email} characters`,\r\n            password: `Password cannot exceed ${ApiGlobalLogic.forms.fieldsMaxLength.password} symbols`,\r\n            telephone: `Telephone cannot exceed ${ApiGlobalLogic.forms.fieldsMaxLength.telephone} numbers`,\r\n            amount: `Amount cannot exceed ${ApiGlobalLogic.items.coupon.fieldsMaxLength.amount}`,\r\n            price: `Price cannot exceed ${ApiGlobalLogic.items.coupon.fieldsMaxLength.price}`,\r\n            title: `Title cannot exceed ${ApiGlobalLogic.items.coupon.fieldsMaxLength.title} characters`,\r\n            description: `Description cannot exceed ${ApiGlobalLogic.items.coupon.fieldsMaxLength.description} characters`\r\n        },\r\n\r\n        badPattern: {\r\n            email: \"Bad email pattern\",\r\n            password: \"Password must include at least one UPPERCASE letter, one lowercase letter and one digit\",\r\n            amount: \"Amount must be a whole positive number\"\r\n        }\r\n    }\r\n}","import { CompanyModel } from \"../../Models/CompanyModel\";\r\n\r\nexport interface CompanyAction {\r\n    type: CompaniesActionType;\r\n    payload?: any;\r\n}\r\n\r\nexport enum CompaniesActionType {\r\n    ADD = \"ADD_COMPANY\",\r\n    GET_SINGLE = \"GET_SINGLE_COMPANY\",\r\n    FETCH_ALL = \"FETCH_ALL_COMPANIES\",\r\n    DELETE = \"DELETE_COMPANY\",\r\n    UPDATE = \"UPDATE_COMPANY\",\r\n}\r\n\r\nexport function addCompany(company: CompanyModel): CompanyAction {\r\n    return { type: CompaniesActionType.ADD, payload: company };\r\n}\r\n\r\nexport function getSingleCompany(companyId: number): CompanyAction {\r\n    return { type: CompaniesActionType.GET_SINGLE, payload: companyId };\r\n}\r\n\r\nexport function fetchAllCompanies(companies: CompanyModel[]): CompanyAction {\r\n    return { type: CompaniesActionType.FETCH_ALL, payload: companies };\r\n}\r\n\r\nexport function deleteCompany(companyId: number): CompanyAction {\r\n    return { type: CompaniesActionType.DELETE, payload: companyId };\r\n}\r\n\r\nexport function updateCompany(company: CompanyModel): CompanyAction {\r\n    return { type: CompaniesActionType.UPDATE, payload: company };\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\n\r\nexport interface CouponAction {\r\n    type: CouponActionType;\r\n    payload?: any;\r\n}\r\n\r\nexport enum CouponActionType {\r\n    ADD = \"ADD_COUPON\",\r\n    GET_SINGLE = \"GET_SINGLE_COUPON\",\r\n    FETCH_ALL = \"FETCH_ALL_COUPONS\",\r\n    FETCH_BY_COMPANY = \"FETCH_BY_COMPANY\",\r\n    FETCH_BY_CUSTOMER = \"FETCH_BY_CUSTOMER\",\r\n    DELETE_COUPON = \"DELETE_COUPON\",\r\n    UPDATE_COUPON = \"UPDATE_COUPON\",\r\n    DISMISS_ALL_COUPONS = \"DISMISS_ALL_COUPONS\"\r\n}\r\n\r\nexport function addCoupon(coupon: CouponModel): CouponAction {\r\n    return { type: CouponActionType.ADD, payload: coupon };\r\n}\r\n\r\nexport function getSingleCoupon(couponId: number): CouponAction {\r\n    return { type: CouponActionType.GET_SINGLE, payload: couponId };\r\n}\r\n\r\nexport function fetchAllCoupons(coupons: CouponModel[]): CouponAction {\r\n    return { type: CouponActionType.FETCH_ALL, payload: coupons };\r\n}\r\n\r\nexport function fetchCouponsByCompany(coupons: CouponModel[]): CouponAction {\r\n    return { type: CouponActionType.FETCH_BY_COMPANY, payload: coupons };\r\n}\r\n\r\nexport function fetchCouponsByCustomer(coupons: CouponModel[]): CouponAction {\r\n    return { type: CouponActionType.FETCH_BY_CUSTOMER, payload: coupons };\r\n}\r\n\r\nexport function deleteCoupon(couponId: number): CouponAction {\r\n    return { type: CouponActionType.DELETE_COUPON, payload: couponId };\r\n}\r\n\r\nexport function updateCoupon(coupon: CouponModel): CouponAction {\r\n    return { type: CouponActionType.UPDATE_COUPON, payload: coupon };\r\n}\r\n\r\nexport function dismissAllCoupons(): CouponAction {\r\n    return { type: CouponActionType.DISMISS_ALL_COUPONS };\r\n}","import { CustomerModel } from \"../../Models/CustomerModel\";\r\n\r\nexport interface CustomerAction {\r\n    type: CustomerActionType;\r\n    payload?: any;\r\n}\r\n\r\nexport enum CustomerActionType {\r\n    ADD = \"ADD_CUSTOMER\",\r\n    GET_SINGLE = \"GET_SINGLE_CUSTOMER\",\r\n    FETCH_ALL = \"FETCH_ALL_CUSTOMERS\",\r\n    DELETE = \"DELETE_CUSTOMER\",\r\n    UPDATE = \"UPDATE_CUSTOMER\",\r\n}\r\n\r\nexport function addCustomer(customer: CustomerModel): CustomerAction {\r\n    return { type: CustomerActionType.ADD, payload: customer };\r\n}\r\n\r\nexport function getSingleCustomer(customerId: number): CustomerAction {\r\n    return { type: CustomerActionType.GET_SINGLE, payload: customerId };\r\n}\r\n\r\nexport function fetchAllCustomers(customers: CustomerModel[]): CustomerAction {\r\n    return { type: CustomerActionType.FETCH_ALL, payload: customers };\r\n}\r\n\r\nexport function deleteCustomer(customerId: number): CustomerAction {\r\n    return { type: CustomerActionType.DELETE, payload: customerId };\r\n}\r\n\r\nexport function updateCustomer(customer: CustomerModel): CustomerAction {\r\n    return { type: CustomerActionType.UPDATE, payload: customer };\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\n\r\nexport class CouponsAppState {\r\n    appCouponsList: CouponModel[] = [];\r\n}","import { CompanyModel } from \"./CompanyModel\";\r\n\r\nexport class CouponModel {\r\n    id!: number;\r\n    companyName!: string;\r\n    companyEmail!: string;\r\n    company!: CompanyModel;\r\n    category!: string;\r\n    title!: string;\r\n    description?: string;\r\n    startDate!: Date;\r\n    endDate!: Date;\r\n    amount!: number;\r\n    price!: number;\r\n    imageUrl?: string;\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\n\r\nexport interface CartAction {\r\n    type: CartActionType;\r\n    payload: CouponModel | number[];\r\n}\r\n\r\nexport enum CartActionType {\r\n    ADD_TO_CART = \"ADD_TO_CART\",\r\n    DELETE_FROM_CART = \"DELETE_FROM_CART\",\r\n    DELETE_BATCH_FROM_CART = \"DELETE_BATCH_FROM_CART\",\r\n    CLEAR_CART = \"CLEAR_CART\"\r\n}\r\n\r\nexport function addToCart(coupon: CouponModel): CartAction {\r\n    return { type: CartActionType.ADD_TO_CART, payload: coupon };\r\n}\r\n\r\nexport function deleteFromCart(item: CouponModel): CartAction {\r\n    return { type: CartActionType.DELETE_FROM_CART, payload: item };\r\n}\r\n\r\nexport function deleteInBatchFromCart(items: number[]): CartAction {\r\n    return { type: CartActionType.DELETE_BATCH_FROM_CART, payload: items };\r\n}\r\n\r\nexport function clearCart(): CartAction {\r\n    return { type: CartActionType.CLEAR_CART, payload: new CouponModel() };\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\n\r\nexport class CartAppState {\r\n    forPurchaseCouponsList: CouponModel[] = [];\r\n}","import { ClientInfoModel } from \"../../Models/ClientInfoModel\";\r\nimport { ClientType } from \"../../Models/ClientType\";\r\nimport { LoginResponseModel } from \"../../Models/LoginResponseModel\";\r\n\r\nexport interface ClientAction {\r\n    type: ClientActionType;\r\n    clientType?: ClientType;\r\n    payload?: any;\r\n}\r\n\r\nexport enum ClientActionType {\r\n    LOGIN = \"LOGIN\",\r\n    LOGOUT = \"LOGOUT\",\r\n    REQUEST_INFO = \"REQUEST_INFO\",\r\n    EXTEND_TOKEN = \"EXTEND_TOKEN\"\r\n}\r\n\r\nexport function loginAction(login: LoginResponseModel): ClientAction {\r\n    return { type: ClientActionType.LOGIN, clientType: login.clientType, payload: login };\r\n}\r\n\r\nexport function logoutAction(): ClientAction {\r\n    return { type: ClientActionType.LOGOUT, clientType: undefined };\r\n}\r\n\r\nexport function requestInfo(info: ClientInfoModel): ClientAction {\r\n    return { type: ClientActionType.REQUEST_INFO, clientType: info.clientType, payload: info };\r\n}\r\n\r\nexport function extendToken(): ClientAction {\r\n    return { type: ClientActionType.EXTEND_TOKEN };\r\n}","export interface RevertAction {\r\n    type: RevertActionType;\r\n}\r\n\r\nexport enum RevertActionType {\r\n    REVERT_STATE = \"REVERT_STATE\"\r\n}\r\n\r\nexport function revertState(): RevertAction {\r\n    return { type: RevertActionType.REVERT_STATE };\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\n\r\nexport class ClientCouponsAppState {\r\n    clientCouponsList: CouponModel[] = [];\r\n}","import { CompanyModel } from \"../../Models/CompanyModel\";\r\n\r\nexport class CompaniesAppState {\r\n    appCompaniesList: CompanyModel[] = [];\r\n}","import { CompanyModel } from \"../../Models/CompanyModel\";\r\nimport { CompaniesActionType, CompanyAction } from \"../Actions/CompanyAction\";\r\nimport { CompaniesAppState } from \"../States/CompaniesAppState\";\r\n\r\nexport function companyReducer(currentState: CompaniesAppState = new CompaniesAppState(), action: CompanyAction): CompaniesAppState {\r\n\r\n    //TODO Check this FC for proper functionality\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n        case CompaniesActionType.ADD:\r\n            newState.appCompaniesList.push(action.payload);\r\n            break;\r\n        case CompaniesActionType.GET_SINGLE:\r\n            newState.appCompaniesList = action.payload;\r\n            break;\r\n        case CompaniesActionType.FETCH_ALL:\r\n            newState.appCompaniesList = action.payload;\r\n            break;\r\n        case CompaniesActionType.DELETE:\r\n            newState.appCompaniesList = newState.appCompaniesList.filter(c => c.id !== action.payload);\r\n            break;\r\n        case CompaniesActionType.UPDATE:\r\n            newState.appCompaniesList = updateCompany(newState.appCompaniesList, action.payload);\r\n            break;\r\n        default:\r\n            return currentState;\r\n    }\r\n    return newState;\r\n}\r\n\r\nfunction updateCompany(companiesList: CompanyModel[], toUpdate: CompanyModel): CompanyModel[] {\r\n    for (let i = 0; i < companiesList.length; i++) {\r\n        if (companiesList[i].id === toUpdate.id) {\r\n            companiesList[i] = { ...toUpdate };\r\n        }\r\n    }\r\n    return companiesList;\r\n}","import { AdminModel } from \"../../Models/AdminModel\";\r\nimport { CompanyModel } from \"../../Models/CompanyModel\";\r\nimport { CustomerModel } from \"../../Models/CustomerModel\";\r\n\r\nexport class CurrentClientAppState {\r\n    client: CustomerModel | CompanyModel | AdminModel | undefined;\r\n    token: string | undefined;\r\n    loginTimeInMillis: number | undefined;\r\n    idleDisconnectIntervalInMillis: number | undefined;\r\n}","import { CustomerModel } from \"../../Models/CustomerModel\";\r\n\r\nexport class CustomersAppState {\r\n    appCustomersList: CustomerModel[] = [];\r\n}","export enum FilterType {\r\n    ID = \"ID\",\r\n    CATEGORIES = \"CATEGORIES\",\r\n    PRICE = \"PRICE\",\r\n    COMPANIES = \"COMPANIES\",\r\n    TEXT = \"TEXT\"\r\n}","import { FilterType } from \"../../Models/FilterType\";\r\n\r\nexport interface FilterAction {\r\n    type: FilterActionType;\r\n    filterKey?: FilterType;\r\n    filterValue?: any;\r\n}\r\n\r\nexport enum FilterActionType {\r\n    ADD = \"ADD_FILTER\",\r\n    REMOVE = \"REMOVE_FILTER\",\r\n    CLEAR = \"CLEAR_FILTERS\"\r\n}\r\n\r\nexport function addFilter(filterType: FilterType, filter: any): FilterAction {\r\n    return { type: FilterActionType.ADD, filterKey: filterType, filterValue: filter };\r\n}\r\n\r\nexport function removeFilter(filterType: FilterType, filter: any): FilterAction {\r\n    return { type: FilterActionType.REMOVE, filterKey: filterType, filterValue: filter };\r\n}\r\n\r\nexport function clearFilters(): FilterAction {\r\n    return { type: FilterActionType.CLEAR };\r\n}","import { CustomerModel } from \"../../Models/CustomerModel\";\r\nimport { CustomerAction, CustomerActionType } from \"../Actions/CustomerAction\";\r\nimport { CustomersAppState } from \"../States/CustomersAppState\";\r\n\r\nexport function customerReducer(currentState: CustomersAppState = new CustomersAppState(), action: CustomerAction): CustomersAppState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n        case CustomerActionType.ADD:\r\n            newState.appCustomersList.push(action.payload);\r\n            break;\r\n        case CustomerActionType.GET_SINGLE:\r\n            newState.appCustomersList = action.payload;\r\n            break;\r\n        case CustomerActionType.FETCH_ALL:\r\n            newState.appCustomersList = action.payload;\r\n            break;\r\n        case CustomerActionType.DELETE:\r\n            newState.appCustomersList = newState.appCustomersList.filter(c => c.id !== action.payload);\r\n            break;\r\n        case CustomerActionType.UPDATE:\r\n            newState.appCustomersList = updateCustomer(newState.appCustomersList, action.payload);\r\n            break;\r\n        default:\r\n            return currentState;\r\n    }\r\n    return newState;\r\n}\r\n\r\nfunction updateCustomer(customersList: CustomerModel[], toUpdate: CustomerModel): CustomerModel[] {\r\n    for (let i = 0; i < customersList.length; i++) {\r\n        if (customersList[i].id === toUpdate.id) {\r\n            customersList[i] = { ...toUpdate };\r\n        }\r\n    }\r\n    return customersList;\r\n}","export class FiltersAppState {\r\n    id: number = -99; // initial value must be less than zero\r\n    categoriesList: string[] = [];\r\n    priceList: number = -99; // initial value must be less than zero\r\n    companiesList: string[] = [];\r\n    freeText: string = \"\";\r\n    /* set true if any of filters is initialized*/\r\n    filtersActive: boolean = false;\r\n}","export interface CategoriesAction {\r\n    type: CategoriesActionType;\r\n    payload: string[];\r\n}\r\n\r\nexport enum CategoriesActionType {\r\n    SYNC_CATEGORIES = \"SYNC_CATEGORIES\"\r\n}\r\n\r\nexport function syncCategories(categories: string[]): CategoriesAction {\r\n    return { type: CategoriesActionType.SYNC_CATEGORIES, payload: categories };\r\n}","export class CategoriesAppState {\r\n    categories: string[] = [];\r\n}","import { ColorPaletteTypes } from \"../../Models/ColorPaletteTypes\";\r\n\r\nexport interface ColorPaletteAction {\r\n    type: ColorPaletteType;\r\n    payload: ColorPaletteTypes;\r\n}\r\n\r\nexport enum ColorPaletteType {\r\n    CHANGE_PALETTE = \"CHANGE_PALETTE\"\r\n}\r\n\r\nexport function changePalette(palette: ColorPaletteTypes): ColorPaletteAction {\r\n    return { type: ColorPaletteType.CHANGE_PALETTE, payload: palette };\r\n}","export enum ColorPaletteTypes {\r\n    NORMAL = \"NORMAL\",\r\n    DARK = \"DARK\"\r\n}","import { ColorPaletteTypes } from \"../../Models/ColorPaletteTypes\";\r\n\r\nexport class ColorPaletteState {\r\n    palette: ColorPaletteTypes = ColorPaletteTypes.NORMAL;\r\n}","import { combineReducers } from \"redux\";\r\nimport { appCouponsReducer } from \"../Reducers/AppCouponsReducer\";\r\nimport cartReducer from \"../Reducers/CartReducer\";\r\nimport { clientCouponsReducer } from \"../Reducers/ClientCouponsReducer\";\r\nimport { companyReducer } from \"../Reducers/CompanyReducer\";\r\nimport currentClientReducer from \"../Reducers/CurrentClientReducer\";\r\nimport { customerReducer } from \"../Reducers/CustomerReducer\";\r\nimport { FiltersReducer } from \"../Reducers/FiltersReducer\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport categoriesReducer from \"../Reducers/CategoriesReducer\";\r\nimport colorPaletteReducer from \"../Reducers/ColorPaletteReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    currentClientState: currentClientReducer,\r\n    couponsAppState: appCouponsReducer,\r\n    clientCouponsState: clientCouponsReducer,\r\n    filterAppState: FiltersReducer,\r\n    customersAppState: customerReducer,\r\n    companiesAppState: companyReducer,\r\n    cartAppState: cartReducer,\r\n    categoriesAppState: categoriesReducer,\r\n    colorPaletteState: colorPaletteReducer\r\n});\r\n\r\nconst persistConfig = {\r\n    key: \"root\",\r\n    storage: storage,\r\n    blacklist: [\r\n        \"couponsAppState\",\r\n        \"customersAppState\",\r\n        \"companiesAppState\",\r\n        \"clientCouponsState\",\r\n        \"filterAppState\"\r\n    ]\r\n}\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import { LoginResponseModel } from \"../../Models/LoginResponseModel\";\r\nimport { ClientAction, ClientActionType } from \"../Actions/ClientAction\";\r\nimport { CurrentClientAppState } from \"../States/CurrentClientAppState\";\r\n\r\nexport default function currentClientReducer(currentClientState: CurrentClientAppState = new CurrentClientAppState(), action: ClientAction): CurrentClientAppState {\r\n\r\n    const newState = { ...currentClientState };\r\n\r\n    switch (action.type) {\r\n        case ClientActionType.LOGIN:\r\n            newState.client = action.payload\r\n            newState.token = (action.payload as LoginResponseModel).token;\r\n            newState.loginTimeInMillis = Date.now();\r\n            newState.idleDisconnectIntervalInMillis = (action.payload as LoginResponseModel).idleDisconnectIntervalInMillis;\r\n            break;\r\n        case ClientActionType.LOGOUT:\r\n            newState.client = undefined;\r\n            newState.token = undefined;\r\n            newState.loginTimeInMillis = undefined;\r\n            newState.idleDisconnectIntervalInMillis = undefined;\r\n            break;\r\n        case ClientActionType.REQUEST_INFO:\r\n            newState.client = action.payload;\r\n            newState.token = currentClientState.token;\r\n            break;\r\n        case ClientActionType.EXTEND_TOKEN:\r\n            newState.loginTimeInMillis = Date.now();\r\n            break;\r\n        default:\r\n            return currentClientState\r\n    }\r\n    return newState;\r\n}","import { CouponAction, CouponActionType } from \"../Actions/CouponAction\";\r\nimport { CouponsAppState } from \"../States/CouponsAppState\";\r\n\r\nexport function appCouponsReducer(currentState: CouponsAppState = new CouponsAppState(), action: CouponAction): CouponsAppState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n        case CouponActionType.ADD:\r\n            newState.appCouponsList.push(action.payload);\r\n            break;\r\n        case CouponActionType.GET_SINGLE:\r\n            newState.appCouponsList = action.payload;\r\n            break;\r\n        case CouponActionType.FETCH_ALL:\r\n            newState.appCouponsList = action.payload;\r\n            break;\r\n        case CouponActionType.DELETE_COUPON:\r\n            newState.appCouponsList = newState.appCouponsList.filter(c => c.id !== action.payload);\r\n            break;\r\n        default:\r\n            return currentState;\r\n    }\r\n    return newState;\r\n}","import { ClientAction, ClientActionType } from \"../Actions/ClientAction\";\r\nimport { CouponAction, CouponActionType } from \"../Actions/CouponAction\";\r\nimport { RevertAction, RevertActionType } from \"../Actions/RevertAction\";\r\nimport { ClientCouponsAppState } from \"../States/ClientCouponsAppState\";\r\n\r\nexport function clientCouponsReducer(currentState: ClientCouponsAppState = new ClientCouponsAppState(), action: CouponAction | ClientAction | RevertAction): ClientCouponsAppState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n        case CouponActionType.FETCH_BY_COMPANY:\r\n            newState.clientCouponsList = action.payload;\r\n            break;\r\n        case CouponActionType.FETCH_BY_CUSTOMER:\r\n            newState.clientCouponsList = action.payload;\r\n            break;\r\n        case CouponActionType.UPDATE_COUPON:\r\n            const index = newState.clientCouponsList.findIndex(c => c.id === action.payload.id);\r\n            if(index > -1){\r\n                newState.clientCouponsList.splice(index, 1, action.payload);\r\n            }\r\n            break;\r\n        case CouponActionType.DELETE_COUPON:\r\n            newState.clientCouponsList = newState.clientCouponsList.filter(c => c.id !== action.payload);\r\n            break;\r\n        case ClientActionType.LOGOUT:\r\n            newState.clientCouponsList = [];\r\n            break;\r\n        case CouponActionType.DISMISS_ALL_COUPONS:\r\n            newState.clientCouponsList = [];\r\n            break;\r\n        case RevertActionType.REVERT_STATE:\r\n            return currentState;\r\n        default:\r\n            return currentState;\r\n    }\r\n    return newState;\r\n}","import { FilterType } from \"../../Models/FilterType\";\r\nimport { FilterAction, FilterActionType } from \"../Actions/FilterAction\";\r\nimport { FiltersAppState } from \"../States/FiltersAppState\";\r\n\r\nexport function FiltersReducer(currentState: FiltersAppState = new FiltersAppState(), action: FilterAction): FiltersAppState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n        /* Adding filter */\r\n        case FilterActionType.ADD:\r\n            newState.filtersActive = true;\r\n            switch (action.filterKey) {\r\n                case FilterType.CATEGORIES:\r\n                    newState.categoriesList.push(action.filterValue);\r\n                    break;\r\n                case FilterType.PRICE:\r\n                    newState.priceList = action.filterValue;\r\n                    break;\r\n                case FilterType.COMPANIES:\r\n                    newState.companiesList.push(action.filterValue);\r\n                    break;\r\n                case FilterType.TEXT:\r\n                    newState.freeText = action.filterValue;\r\n                    break;\r\n                case FilterType.ID:\r\n                    newState.id = +action.filterValue;\r\n                    break;\r\n            }\r\n            break;\r\n\r\n        /* Removing filter */\r\n        case FilterActionType.REMOVE:\r\n            switch (action.filterKey) {\r\n                case FilterType.CATEGORIES:\r\n                    newState.categoriesList = newState.categoriesList.filter(c => c !== action.filterValue);\r\n                    break;\r\n                case FilterType.PRICE:\r\n                    newState.priceList = 0;\r\n                    break;\r\n                case FilterType.COMPANIES:\r\n                    newState.companiesList = [];\r\n                    break;\r\n                case FilterType.TEXT:\r\n                    newState.freeText = \"\";\r\n                    break;\r\n            }\r\n            break;\r\n        case FilterActionType.CLEAR:\r\n            newState.id = -99;\r\n            newState.categoriesList = [];\r\n            newState.companiesList = [];\r\n            newState.priceList = -99;\r\n            newState.freeText = \"\";\r\n            break;\r\n        default:\r\n            return currentState;\r\n    }\r\n\r\n    /* check if all filters disabled */\r\n    if (newState.id < 0 && newState.categoriesList.length === 0 && newState.companiesList.length === 0 && newState.priceList < 0 && newState.freeText.length === 0) {\r\n        newState.filtersActive = false;\r\n    }\r\n\r\n    return newState;\r\n}","import { CouponModel } from \"../../Models/CouponModel\";\r\nimport { CartAction, CartActionType } from \"../Actions/CartAction\";\r\nimport { CartAppState } from \"../States/CartAppState\";\r\n\r\nexport default function cartReducer(cartState: CartAppState = new CartAppState(), action: CartAction): CartAppState {\r\n\r\n    const newState = { ...cartState };\r\n\r\n    switch (action.type) {\r\n        case CartActionType.ADD_TO_CART:\r\n            newState.forPurchaseCouponsList.push(action.payload as CouponModel);\r\n            break;\r\n        case CartActionType.DELETE_FROM_CART:\r\n            newState.forPurchaseCouponsList = newState.forPurchaseCouponsList.filter(c => c !== action.payload);\r\n            break;\r\n        case CartActionType.DELETE_BATCH_FROM_CART:\r\n            newState.forPurchaseCouponsList = newState.forPurchaseCouponsList.filter(c => (!(action.payload as number[]).includes(c.id)));\r\n            break;\r\n        case CartActionType.CLEAR_CART:\r\n            newState.forPurchaseCouponsList = [];\r\n            break;\r\n        default:\r\n            return cartState;\r\n    }\r\n    return newState;\r\n}","import { CategoriesAction, CategoriesActionType } from \"../Actions/CategoriesAction\";\r\nimport { CategoriesAppState } from \"../States/CategoriesAppState\";\r\n\r\nexport default function categoriesReducer(categoriesAppState: CategoriesAppState = new CategoriesAppState(), action: CategoriesAction): CategoriesAppState {\r\n\r\n    const newState = { ...categoriesAppState };\r\n\r\n    switch (action.type) {\r\n        case CategoriesActionType.SYNC_CATEGORIES:\r\n            newState.categories = action.payload.map(c => c.replaceAll(\"_\", \" \"));\r\n            break;\r\n        default:\r\n            return categoriesAppState;\r\n    }\r\n    return newState;\r\n\r\n}","import { ColorPaletteAction, ColorPaletteType } from \"../Actions/ColorPaletteAction\";\r\nimport { ColorPaletteState } from \"../States/ColorPaletteState\";\r\n\r\nexport default function colorPaletteReducer(paletteState: ColorPaletteState = new ColorPaletteState(), action: ColorPaletteAction): ColorPaletteState {\r\n\r\n    const newState = { ...paletteState };\r\n\r\n    switch (action.type) {\r\n        case ColorPaletteType.CHANGE_PALETTE:\r\n            newState.palette = action.payload;\r\n            break;\r\n        default:\r\n            return paletteState;\r\n    }\r\n    return newState;\r\n}","import { createStore } from \"redux\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport persistedReducer from \"./RootReducer\"\r\n\r\n// // Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// // Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const store = createStore(persistedReducer, (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nconst reduxPersistedStore = {\r\n    store,\r\n    persistor\r\n}\r\n\r\nexport default reduxPersistedStore;","class Globals{\r\n}\r\n\r\nclass DevelopmentGlobals extends Globals{\r\n    public urls = {\r\n        pushdata: \"http://localhost:8080/initData/\",\r\n        signup: \"http://localhost:8080/register\",\r\n        login: \"http://localhost:8080/login\",\r\n        logout: \"http://localhost:8080/logout\",\r\n        extendToken: \"http://localhost:8080/extendtoken\",\r\n        clientInfo: \"http://localhost:8080/client/info\",\r\n        companies: \"http://localhost:8080/companies\",\r\n        customers: \"http://localhost:8080/customers\",\r\n        coupons: \"http://localhost:8080/coupons\",\r\n        couponImage: \"http://localhost:8080/coupons/images\",\r\n        categories: \"http://localhost:8080/coupons/categories\",\r\n        purchase : \"http://localhost:8080/customers/purchase\"\r\n    }\r\n}\r\n\r\nclass ProductionGlobals extends Globals{\r\n    public urls = {\r\n        pushdata: \"/initData/\",\r\n        signup: \"/register\",\r\n        login: \"/login\",\r\n        logout: \"/logout\",\r\n        extendToken: \"/extendtoken\",\r\n        clientInfo: \"/client/info\",\r\n        companies: \"/companies\",\r\n        customers: \"/customers\",\r\n        coupons: \"/coupons\",\r\n        couponImage: \"/coupons/images\",\r\n        categories: \"/coupons/categories\",\r\n        purchase : \"/customers/purchase\"\r\n    }\r\n}\r\n\r\nconst globals = process.env.NODE_ENV === 'production' ? new ProductionGlobals() : new DevelopmentGlobals();\r\n\r\nexport default globals;","import axios from \"axios\";\r\nimport { CompanyModel } from \"../Models/CompanyModel\";\r\nimport { CouponModel } from \"../Models/CouponModel\";\r\nimport { CustomerModel } from \"../Models/CustomerModel\";\r\nimport { deleteCompany, fetchAllCompanies, updateCompany } from \"../Redux/Actions/CompanyAction\";\r\nimport { deleteCoupon, dismissAllCoupons, fetchAllCoupons, fetchCouponsByCompany, fetchCouponsByCustomer, updateCoupon } from \"../Redux/Actions/CouponAction\";\r\nimport { deleteCustomer, fetchAllCustomers, updateCustomer } from \"../Redux/Actions/CustomerAction\";\r\nimport { store } from \"../Redux/Store/Store\";\r\nimport globals from \"./Globals\";\r\nimport { syncCategories } from \"../Redux/Actions/CategoriesAction\";\r\nimport { toast } from \"react-toastify\";\r\nimport { LoginRequestModel } from \"../Models/LoginRequestModel\";\r\nimport { LoginResponseModel } from \"../Models/LoginResponseModel\";\r\nimport { loginAction, logoutAction, requestInfo } from \"../Redux/Actions/ClientAction\";\r\nimport { ClientInfoModel } from \"../Models/ClientInfoModel\";\r\nimport { clearCart } from \"../Redux/Actions/CartAction\";\r\nimport { SignupModel } from \"../Models/SignupModel\";\r\n\r\n// static class for data streams\r\nexport default class GlobalDataStreamer {\r\n\r\n    /*                      ADMIN METHODS \r\n    ****************************************************************/\r\n    public static async fetchAllCustomers() {\r\n        this.emitToast(\"fetchAllCustomer\", \"Fetching customers ...\");\r\n        await axios.get(globals.urls.customers, this.appendBody()).then((response) => {\r\n            toast.dismiss(\"fetchAllCustomer\");\r\n            store.dispatch(fetchAllCustomers(response.data));\r\n        })\r\n            .catch((error) => {\r\n                this.errorToast(\"fetchAllCustomer\", error);\r\n            });\r\n    }\r\n\r\n    public static async fetchAllCompanies() {\r\n        this.emitToast(\"fetchAllCompanies\", \"Fetching companies ...\");\r\n        await axios.get<CompanyModel[]>(globals.urls.companies, this.appendBody()).then((response) => {\r\n            toast.dismiss(\"fetchAllCompanies\");\r\n            store.dispatch(fetchAllCompanies(response.data));\r\n        })\r\n            .catch((error) => {\r\n                this.errorToast(\"fetchAllCompanies\", error);\r\n            });\r\n    }\r\n\r\n    public static async addCompany(company: ClientInfoModel) {\r\n        this.emitToast(\"addNewCompany\", \"Adding company ...\");\r\n        return axios.post<string>(globals.urls.companies, company, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"addNewCompany\", response.data);\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"addNewCompany\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async addCustomer(customer: ClientInfoModel) {\r\n        this.emitToast(\"addNewCustomer\", \"Adding customer ...\");\r\n        return axios.post<string>(globals.urls.customers, customer, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"addNewCustomer\", response.data);\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"addNewCustomer\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async deleteCustomer(customerId: number) {\r\n        this.emitToast(customerId, \"Deleting customer...\");\r\n        return axios.delete<string>(globals.urls.customers + \"/\" + customerId, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(customerId, response.data);\r\n                store.dispatch(deleteCustomer(customerId));\r\n                return true;\r\n            })\r\n            .catch((error: any) => this.errorToast(customerId, error));\r\n    }\r\n\r\n    public static async deleteCompany(companyId: number) {\r\n        this.emitToast(companyId, \"Deleting company...\");\r\n        return axios.delete<string>(globals.urls.companies + \"/\" + companyId, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(companyId, response.data);\r\n                store.dispatch(deleteCompany(companyId));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(companyId, error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async updateCustomer(customer: CustomerModel) {\r\n        this.emitToast(customer.id, \"Updating customer ...\");\r\n        return axios.put<string>(globals.urls.customers, customer, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(customer.id, response.data);\r\n                store.dispatch(updateCustomer(customer));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(customer.id, error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async updateCompany(company: CompanyModel) {\r\n        this.emitToast(company.id, \"Updating company ...\");\r\n        return axios.put<string>(globals.urls.companies, company, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(company.id, response.data);\r\n                store.dispatch(updateCompany(company));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(company.id, error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async initData(numOfCustomers: number, numOfCompanies: number) {\r\n        this.emitToast(\"INITDATA\", \"Pushing data, this may take some while ...\");\r\n        return axios.put<string>(globals.urls.pushdata + numOfCustomers + \"/\" + numOfCompanies, {}, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"INITDATA\", response.data);\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"INITDATA\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    /*                      CUSTOMER METHODS \r\n    ****************************************************************/\r\n    public static async fetchCouponsByCustomer() {\r\n        return axios.get<CouponModel[]>(globals.urls.customers + \"/coupons\", this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"allByCustomer\", \"Your coupons loaded\");\r\n                store.dispatch(fetchCouponsByCustomer(response.data));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.emitToast(\"allByCustomer\", \"Fetching coupons ...\");\r\n                this.errorToast(\"allByCustomer\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async purchaseCoupons(couponIds: number[]) {\r\n        this.emitToast(\"Purchase\", couponIds.length === 1 ? \"Purchasing coupon ...\" : \"Purchasing coupons ...\");\r\n        return axios.post<string>(globals.urls.purchase, couponIds, this.appendBody())\r\n            .then((response) => {\r\n                store.dispatch(clearCart());\r\n                this.successToast(\"Purchase\", response.data);\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"Purchase\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async dismissAllCoupons() {\r\n        this.emitToast(\"dismissCoupons\", \"Coupons being used...\");\r\n        return axios.delete<string>(globals.urls.customers + \"/coupons/purchased\", this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"dismissCoupons\", response.data);\r\n                store.dispatch(dismissAllCoupons());\r\n                return true;\r\n            });\r\n    }\r\n\r\n    /*                      COMPANY METHODS \r\n    ****************************************************************/\r\n\r\n    public static async addCoupon(coupon: CouponModel) {\r\n        this.emitToast(\"addNewCoupon\", \"Adding coupon ...\");\r\n        return axios.post<string>(globals.urls.companies + \"/coupons\", coupon, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"addNewCoupon\", response.data);\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"addNewCoupon\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async updateCoupon(coupon: CouponModel) {\r\n        this.emitToast(coupon.id, \"Updating coupon ...\");\r\n        return axios.put<string>(globals.urls.companies + \"/coupons\", coupon, this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(coupon.id, response.data);\r\n                return true;\r\n            })\r\n            .then(() => store.dispatch(updateCoupon((coupon as CouponModel))))\r\n            .catch((error: any) => {\r\n                this.errorToast(coupon.id, error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async deleteCoupon(couponId: number) {\r\n        this.emitToast(couponId, \"Deleting coupon...\");\r\n        axios.delete<string>(globals.urls.companies + \"/coupons/\" + couponId, this.appendBody())\r\n            .then((response) => this.successToast(couponId, response))\r\n            .then(() => store.dispatch(deleteCoupon(couponId)))\r\n            .catch((error: any) => this.errorToast(couponId, error));\r\n    }\r\n\r\n    public static async fetchCouponsByCompany() {\r\n        return axios.get<CouponModel[]>(globals.urls.companies + \"/coupons\", this.appendBody())\r\n            .then((response) => {\r\n                this.successToast(\"allByCompany\", \"Your coupons loaded\");\r\n                store.dispatch(fetchCouponsByCompany(response.data));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.emitToast(\"allByCompany\", \"Fetching coupons ...\");\r\n                this.errorToast(\"allByCompany\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    /*                      SHARED METHODS \r\n    ****************************************************************/\r\n\r\n    public static async login(login: LoginRequestModel) {\r\n        toast.dismiss();\r\n        this.emitToast(\"Login\", \"Loggin in...\");\r\n        return axios.post<LoginResponseModel>(globals.urls.login, login)\r\n            .then((response) => {\r\n                this.successToast(\"Login\", \"Welcome \" + response.data.name);\r\n                store.dispatch(loginAction(response.data));\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"Login\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async signup(signup: SignupModel) {\r\n        toast.dismiss();\r\n        this.emitToast(\"SignUp\", \"Signing up...\");\r\n        return axios.post<SignupModel>(globals.urls.signup, signup)\r\n            .then((response) => {\r\n                this.successToast(\"SignUp\", response.data.email + \" signed-up successfully\");\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"SignUp\", error);\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async logout() {\r\n        toast.dismiss();\r\n        this.emitToast(\"Logout\", \"Loggin out...\");\r\n        return axios.delete<string>(globals.urls.logout, this.appendBody())\r\n            .then((response) => {\r\n                this.warnToast(\"Logout\", response.data);\r\n                store.dispatch(logoutAction());\r\n                return true;\r\n            })\r\n            .catch((error: any) => {\r\n                toast.dismiss(\"Logout\");\r\n                return false;\r\n            });\r\n    }\r\n\r\n    public static async extendTokenExpiration() {\r\n        return axios.put<boolean>(globals.urls.extendToken, {}, this.appendBody()).then((response) => {\r\n            return response.data;\r\n        }).catch((error: any) => {\r\n            this.emitToast(\"extendingToken\", \"\");\r\n            this.errorToast(\"extendingToken\", error);\r\n            return false;\r\n        })\r\n    }\r\n\r\n    public static async fetchClientInfo() {\r\n        axios.get<ClientInfoModel>(globals.urls.clientInfo, this.appendBody())\r\n            .then((response) => store.dispatch(requestInfo(response.data)))\r\n            .catch((error: any) => {\r\n                this.emitToast(\"fetchClient\", \"\");\r\n                this.errorToast(\"fetchClient\", error);\r\n            });\r\n    }\r\n\r\n    public static async fetchAllCategories() {\r\n        await axios.get<string[]>(globals.urls.categories).then((repsonse) => {\r\n            store.dispatch(syncCategories(repsonse.data));\r\n        });\r\n    }\r\n\r\n    public static async fetchCouponImage(imageName: string | number) {\r\n        this.emitToast(\"CouponImageFetching\", \"Fetching image...\");\r\n        return axios.get(globals.urls.couponImage + `/${imageName}`, { responseType: \"blob\" })\r\n            .then((response) => {\r\n                this.successToast(\"CouponImageFetching\", \"Fetch successful\");\r\n                return response;\r\n            })\r\n            .catch((error: any) => {\r\n                this.errorToast(\"CouponImageFetching\", error);\r\n                return error;\r\n            });\r\n    }\r\n\r\n    public static async fetchAllCoupons() {\r\n        this.emitToast(\"allCoupons\", \"Fetching coupons...\");\r\n        await axios.get<CouponModel[]>(globals.urls.coupons, {\r\n            timeout: 7000,\r\n            timeoutErrorMessage: \"Response timeout\"\r\n        })\r\n            .then((response) => {\r\n                toast.dismiss(\"allCoupons\");\r\n                store.dispatch(fetchAllCoupons(response.data));\r\n            })\r\n            .catch((error) => {\r\n                this.errorToast(\"allCoupons\", error);\r\n            });\r\n    }\r\n\r\n    /*                      PRIVATE LOCAL METHODS \r\n    ****************************************************************/\r\n    private static appendBody() {\r\n        return {\r\n            headers: {\r\n                \"authorization\": store.getState().currentClientState.token,\r\n                \"clientType\": store.getState().currentClientState.client?.clientType\r\n            }\r\n        }\r\n    }\r\n\r\n    private static emitToast = (toastId: any, onLoading: string) => {\r\n        toast.loading(onLoading, {\r\n            toastId: toastId,\r\n            theme: \"colored\",\r\n            closeOnClick: true,\r\n            autoClose: 5000,\r\n        });\r\n    }\r\n\r\n    private static successToast = (toastId: any, response: any) => {\r\n        toast.update(toastId, {\r\n            render: response,\r\n            type: \"success\",\r\n            isLoading: false,\r\n            autoClose: 5000\r\n        });\r\n    }\r\n\r\n    private static warnToast = (toastId: any, response: any) => {\r\n        toast.update(toastId, {\r\n            render: response,\r\n            type: \"warning\",\r\n            isLoading: false,\r\n            autoClose: 5000\r\n        });\r\n    }\r\n\r\n    private static errorToast = (couponId: any, error: any) => {\r\n        toast.update(couponId, {\r\n            render: error.response !== undefined ? error.response.data : \"No response from server\",\r\n            type: \"error\",\r\n            isLoading: false,\r\n            autoClose: 5000\r\n        });\r\n    }\r\n}","import { NavLink } from \"react-router-dom\";\r\nimport { logoutAction } from \"../../../Redux/Actions/ClientAction\";\r\nimport { persistor, store } from \"../../../Redux/Store/Store\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport { RouteUrls } from \"../../../Services/RouteUrls\";\r\nimport \"./Logout.css\";\r\n\r\n// dispatch logout action to server\r\nfunction sendLogout() {\r\n    GlobalDataStreamer.logout();\r\n}\r\n\r\n// clear state in local storage\r\nfunction clearState() {\r\n    persistor.pause();\r\n    persistor.purge();\r\n    persistor.persist();\r\n    store.dispatch(logoutAction());\r\n}\r\n\r\n// logout\r\nexport function logout() {\r\n    sendLogout();\r\n    clearState();\r\n}\r\n\r\nexport default function Logout(): JSX.Element {\r\n    return (\r\n        <section className=\"Logout\">\r\n            <NavLink to={RouteUrls.HOME}>\r\n                <button onClick={() => {\r\n                    logout();\r\n                }} className=\"APP__BUTTON\" type=\"button\">Logout</button>\r\n            </NavLink>\r\n        </section>\r\n    );\r\n}","import { toast } from \"react-toastify\";\r\nimport { logout } from \"../Components/LayoutArea/Logout/Logout\";\r\nimport { extendToken } from \"../Redux/Actions/ClientAction\";\r\nimport { store } from \"../Redux/Store/Store\";\r\nimport GlobalDataStreamer from \"./GlobalDataStreamer\";\r\n\r\nexport default class IdleTimerApi {\r\n\r\n    // this timeout starts when client logged in to system \r\n    private static idleTimeout: NodeJS.Timeout = setTimeout(() => undefined, 0);\r\n\r\n    // this timer starts when client logged in to system \r\n    private static idleIntervalTimerActions: NodeJS.Timeout = setInterval(() => undefined, 0);\r\n\r\n    // this variable represent idle timer value\r\n    private static idleTimer: number = 0;\r\n\r\n    // this variable represent time of interval updates in millis\r\n    private static idleTimerUpdateInterval: number = 1000;\r\n\r\n    // this variable represent clients login time\r\n    private static clientLoginTime: number = -99;\r\n\r\n    // this variable represent threshold when the client will be logged out if idle for amount of time\r\n    private static idleTimerThresholdInterval: number = -99;\r\n\r\n    // this variable mirrors idleTimerThresholdInterval and is used for client notification\r\n    private static initialIdleTimerThresholdInterval: number = 0;\r\n\r\n    // this variable represent threshold when the client will be notified of being idle for too long\r\n    private static emitToastThresholdInterval: number = 0;\r\n\r\n    // this variable represent dynamic range for emitToastThresholdInterval value\r\n    private static emitToastValuePercentage = 0.86; // (1 is 100%)\r\n\r\n    // this variable represent threshold for auto dispatch token update without notice\r\n    private static dispatchTokenUpdateThresholdInterval: number = 0;\r\n\r\n    // this variable represent dynamic range for dispatchTokenUpdateThresholdInterval value\r\n    private static dispatchTokenUpdateValuePercentage = 0.7; // (1 is 100%)\r\n\r\n    /* run this function on mount to check if user session expired\r\n    ****************************************************************************/\r\n    private onMount = (function ifExpired() {\r\n        IdleTimerApi.updateData(); // refresh data\r\n        if (IdleTimerApi.clientLoginTime + IdleTimerApi.idleTimerThresholdInterval > 0) {\r\n            if (Date.now() - IdleTimerApi.clientLoginTime > IdleTimerApi.idleTimerThresholdInterval) {\r\n                IdleTimerApi.logoutAction(false);\r\n            }\r\n        }\r\n    }());\r\n\r\n    /* start idle timer\r\n    ****************************************************************************/\r\n    static startIdleTimer() {\r\n        IdleTimerApi.updateData(); // refresh data\r\n        IdleTimerApi.resetIdleTimeout(); // start idle timeout\r\n    }\r\n\r\n    /* logic of client makes any action on website \r\n    ****************************************************************************/\r\n    static clientMadeAction() {\r\n        // refresh data\r\n        IdleTimerApi.updateData();\r\n        // check if store holds client data\r\n        if (IdleTimerApi.clientLoginTime + IdleTimerApi.idleTimerThresholdInterval > 0) {\r\n            // if session time matches update threshold\r\n            if (Date.now() - IdleTimerApi.clientLoginTime >= IdleTimerApi.dispatchTokenUpdateThresholdInterval) {\r\n                IdleTimerApi.updateLoginTime();\r\n                IdleTimerApi.resetIdleTimeout();\r\n            }\r\n        }\r\n    }\r\n\r\n    /* this function resets and start timer to logout action \r\n    ****************************************************************************/\r\n    private static resetIdleTimeout() {\r\n        /* run this function only if client data is present */\r\n        if (IdleTimerApi.idleTimerThresholdInterval > 0) {\r\n            /* reset data */\r\n            IdleTimerApi.idleTimer = 0;\r\n            clearTimeout(IdleTimerApi.idleTimeout);\r\n            clearInterval(IdleTimerApi.idleIntervalTimerActions);\r\n            /* set logout timeout */\r\n            IdleTimerApi.idleTimeout = setTimeout(() => IdleTimerApi.logoutAction(), IdleTimerApi.idleTimerThresholdInterval);\r\n            /* set idle interval timer */\r\n            IdleTimerApi.idleIntervalTimerActions = setInterval(() => {\r\n                // increment timer\r\n                IdleTimerApi.idleTimer += IdleTimerApi.idleTimerUpdateInterval;\r\n                // check if idle time matches toast emit threshold\r\n                if ((Date.now() - IdleTimerApi.clientLoginTime) >= IdleTimerApi.emitToastThresholdInterval) {\r\n                    // emit toast\r\n                    toast.warn(\"\",\r\n                        {\r\n                            toastId: \"IdleToast\",\r\n                            autoClose: false,\r\n                            theme: \"colored\"\r\n                        });\r\n                    // update toast\r\n                    toast.update(\"IdleToast\",\r\n                        {\r\n                            render: `The system noticed you were idle for too long, \r\n                            please make action or you will be disconnected in ${(IdleTimerApi.idleTimerThresholdInterval - IdleTimerApi.idleTimer) / 1000} seconds`,\r\n                            autoClose: false,\r\n                            theme: \"colored\",\r\n                            type: \"warning\"\r\n                        });\r\n                }\r\n            }, IdleTimerApi.idleTimerUpdateInterval);\r\n        }\r\n    }\r\n\r\n    /* update clients login time\r\n    ****************************************************************************/\r\n    private static updateLoginTime() {\r\n        GlobalDataStreamer.extendTokenExpiration().then((response) => {\r\n            if (response) {\r\n                store.dispatch(extendToken());\r\n                IdleTimerApi.updateData();\r\n                toast.update(\"IdleToast\",\r\n                    {\r\n                        toastId: \"IdleToastReset\",\r\n                        render: \"Thank you, idle time reset\",\r\n                        type: \"success\",\r\n                        autoClose: 10_000,\r\n                        theme: \"colored\"\r\n                    });\r\n            }\r\n        });\r\n    }\r\n\r\n    /*  this function sets on login or updates data in case client closed or refreshed web page \r\n    ****************************************************************************/\r\n    private static updateData() {\r\n        const response = store.getState().currentClientState;\r\n        if (response !== undefined && response.idleDisconnectIntervalInMillis !== undefined && response.loginTimeInMillis !== undefined) {\r\n            IdleTimerApi.idleTimerThresholdInterval = response.idleDisconnectIntervalInMillis;\r\n            IdleTimerApi.initialIdleTimerThresholdInterval = IdleTimerApi.idleTimerThresholdInterval;\r\n            IdleTimerApi.clientLoginTime = response.loginTimeInMillis;\r\n            IdleTimerApi.emitToastThresholdInterval = IdleTimerApi.idleTimerThresholdInterval * IdleTimerApi.emitToastValuePercentage;\r\n            IdleTimerApi.dispatchTokenUpdateThresholdInterval = IdleTimerApi.idleTimerThresholdInterval * IdleTimerApi.dispatchTokenUpdateValuePercentage;\r\n        } else {\r\n            IdleTimerApi.cancelTimers();\r\n        }\r\n    }\r\n\r\n    private static cancelTimers() {\r\n        clearTimeout(IdleTimerApi.idleTimeout);\r\n        clearInterval(IdleTimerApi.idleIntervalTimerActions);\r\n        IdleTimerApi.idleTimerThresholdInterval = -99;\r\n        IdleTimerApi.clientLoginTime = -99;\r\n        IdleTimerApi.idleTimer = 0;\r\n    }\r\n\r\n    /* logout function \r\n    ****************************************************************************/\r\n    private static logoutAction(dispatchToast?:boolean) {\r\n        // clear values\r\n        IdleTimerApi.cancelTimers();\r\n        // dispatch logout\r\n        logout();\r\n        toast.dismiss();\r\n        // emit client notification\r\n        if(dispatchToast !== false){\r\n            toast.warning(`You were logged out for being idle ${IdleTimerApi.initialIdleTimerThresholdInterval / 60_000} minutes`, {\r\n                toastId: \"IdleLogout\",\r\n                autoClose: false,\r\n                theme: \"colored\"\r\n            });\r\n        }\r\n    }\r\n}","import { useForm } from \"react-hook-form\";\r\nimport { LoginRequestModel } from \"../../../Models/LoginRequestModel\";\r\nimport \"./Login.css\";\r\nimport ApiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport IdleTimerApi from \"../../../Services/IdleTimerApi\";\r\n\r\nexport default function Login(): JSX.Element {\r\n\r\n    const { register, handleSubmit, reset, formState: { errors } } = useForm<LoginRequestModel>();\r\n\r\n    const send = (login: LoginRequestModel) => {\r\n\r\n        GlobalDataStreamer.login(login).then((response) => {\r\n\r\n            if (response) {\r\n                IdleTimerApi.startIdleTimer();\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <section className=\"Login\">\r\n            <div className=\"Login__Form FORM\">\r\n                <h2> Login </h2>\r\n                <form onSubmit={handleSubmit(send)}>\r\n\r\n                    <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.email} type=\"email\" className=\"FIELD\" placeholder=\"email\" {...register(\"email\", {\r\n                        required: { value: true, message: \"Email required\" },\r\n                        minLength: {\r\n                            value: ApiGlobalLogic.forms.fieldsMinLength.email,\r\n                            message: ApiGlobalLogic.errorDescriptions.minLength.email\r\n                        },\r\n                        pattern: {\r\n                            value: ApiGlobalLogic.patterns.regex.email,\r\n                            message: ApiGlobalLogic.errorDescriptions.badPattern.email\r\n                        }\r\n                    })} />\r\n                    {errors.email && <p className=\"Error\">{errors.email.message}</p>}\r\n\r\n                    <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.password} type=\"password\" className=\"FIELD\" placeholder=\"password\" {...register(\"password\", {\r\n                        required: { value: true, message: \"Password required\" }\r\n                    })}\r\n                    />\r\n                    {errors.password && <p className=\"Error\">{errors.password.message}</p>}\r\n\r\n                    <br />\r\n                    <button type=\"reset\" onClick={() => reset()} className=\"BUTTON__AS_LINK\">clear fields</button>\r\n                    <br />\r\n\r\n                    <div>\r\n                        <button type=\"submit\" className=\"APP__BUTTON\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}","import { useForm } from \"react-hook-form\";\r\nimport { SignupModel } from \"../../../Models/SignupModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport apiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport \"./Sign_up.css\";\r\nimport { useState } from \"react\";\r\nimport ApiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\n\r\nexport default function Sign_up(): JSX.Element {\r\n\r\n    const { register, handleSubmit, setValue, reset, formState: { errors } } = useForm<SignupModel>({\r\n        defaultValues: { \"clientType\": ClientType.CUSTOMER }\r\n    });\r\n\r\n    const [clientType, setClientType] = useState(ClientType.CUSTOMER);\r\n\r\n    const send = async (signup: SignupModel) => {\r\n        GlobalDataStreamer.signup(signup);\r\n    }\r\n\r\n    function handleChange(event: React.ChangeEvent<HTMLSelectElement>) {\r\n        switch (event.target.value) {\r\n            case \"COMPANY\":\r\n                console.log();\r\n                setValue(\"clientType\", ClientType.COMPANY);\r\n                setClientType(ClientType.COMPANY);\r\n                break;\r\n            default:\r\n                setValue(\"clientType\", ClientType.CUSTOMER);\r\n                setClientType(ClientType.CUSTOMER);\r\n                break;\r\n        }\r\n    }\r\n\r\n    function requiredFields() {\r\n        switch (clientType) {\r\n            case ClientType.CUSTOMER:\r\n                return (<>\r\n                    <input maxLength={ApiGlobalLogic.items.customer.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"first name\" {...register(\"name\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"First name required\"\r\n                        },\r\n                        minLength: apiGlobalLogic.items.customer.fieldsMinLength.name\r\n                    })} />\r\n                    {errors.name && <p className=\"Error\">{errors.name.message}</p>}\r\n\r\n                    <input maxLength={ApiGlobalLogic.items.customer.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"last name\" {...register(\"lastName\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"Last name required\"\r\n                        },\r\n                        minLength: apiGlobalLogic.items.customer.fieldsMinLength.name\r\n                    })} />\r\n                    {errors.lastName && <p className=\"Error\">{errors.lastName.message}</p>}\r\n                </>);\r\n            case ClientType.COMPANY:\r\n                return (<>\r\n                    <input maxLength={ApiGlobalLogic.items.company.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"company name\" {...register(\"name\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"Company name required\"\r\n                        },\r\n                        minLength: apiGlobalLogic.items.company.fieldsMinLength.name\r\n                    })} />\r\n                    {errors.name && <p className=\"Error\">{errors.name.message}</p>}\r\n                </>);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Sign_up FORM WHITE__BG\">\r\n            <h2> Sign-up </h2>\r\n            <form onSubmit={handleSubmit(send)}>\r\n\r\n                {requiredFields()}\r\n\r\n                <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.email} type=\"email\" className=\"FIELD\" placeholder=\"email\" {...register(\"email\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Email required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.forms.fieldsMinLength.email,\r\n                        message: `Email must contain at least ${ApiGlobalLogic.forms.fieldsMinLength.email} characters`\r\n\r\n                    },\r\n                    pattern: {\r\n                        value: ApiGlobalLogic.patterns.regex.email,\r\n                        message: \"Invalid email address\"\r\n                    }\r\n                })} />\r\n                {errors.email && <p className=\"Error\">{errors.email.message}</p>}\r\n\r\n                <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.password} type=\"password\" className=\"FIELD\" placeholder=\"password\" {...register(\"password\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Password required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.forms.fieldsMinLength.password,\r\n                        message: `Password must contain at least ${ApiGlobalLogic.forms.fieldsMinLength.password} characters`\r\n                    },\r\n                    pattern: {\r\n                        value: ApiGlobalLogic.patterns.regex.password,\r\n                        message: \"Password must include at least one Upper and lower case letter\"\r\n                    }\r\n                })} />\r\n                {errors.password && <p className=\"Error\">{errors.password.message}</p>}\r\n\r\n                <br />\r\n                <button type=\"reset\" onClick={() => {\r\n                    reset();\r\n                    setClientType(ClientType.CUSTOMER);\r\n                }} className=\"BUTTON__AS_LINK\">reset form</button>\r\n                <br />\r\n\r\n                <select className=\"FIELD\" onChange={(event) => handleChange(event)} >\r\n                    <option value={ClientType.CUSTOMER}>Customer</option>\r\n                    <option value={ClientType.COMPANY}>Company</option>\r\n                </select>\r\n                <button type=\"submit\" className=\"FIELD LINK APP__BUTTON\">Sign-up</button>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n}","import { ClientType } from \"../../../Models/ClientType\";\r\nimport { CustomerModel } from \"../../../Models/CustomerModel\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport FlipableCard from \"../FlippableSignInCard/FlippableCard\";\r\nimport Login from \"../Login/Login\";\r\nimport Logout from \"../Logout/Logout\";\r\nimport SignUp from \"../Sign_up/Sign_up\";\r\nimport \"./NavBar.css\";\r\n\r\nexport default function NavBar(): JSX.Element {\r\n\r\n    const currentClient = useAppSelector(state => state.currentClientState.client);\r\n\r\n    function renderClientInfo() {\r\n        if (currentClient !== undefined) {\r\n            return <>\r\n                <p>It is a good {timeOfDay()} <span>{nameToCapital(currentClient.name) + \" \" + nameToCapital(currentClient.clientType !== ClientType.COMPANY ? (currentClient as CustomerModel).lastName : \"\")}</span></p> <Logout />\r\n            </>;\r\n        }\r\n        return <>\r\n            {/* <p className=\"EMPHASIZE_TEXT_COLOR\">Good {timeOfDay()} guest, please </p> <Login /> <p>for better user experience</p> */}\r\n            <p >Good {timeOfDay()} guest, please </p>\r\n            <FlipableCard\r\n                mainButtonText=\"Login\"\r\n                frontButtonText={\"Want to sign-up\"}\r\n                backButtonText={\"Want to login\"}\r\n                frontElement={<Login />}\r\n                backElement={<SignUp />}\r\n                buttonStyleClass=\"APP__BUTTON\"\r\n            />\r\n            <p>for shopping experience</p>\r\n        </>;\r\n    }\r\n\r\n    function nameToCapital(name: string) {\r\n        return name.charAt(0).toUpperCase() + name.substring(1).toLowerCase();\r\n    }\r\n\r\n    function timeOfDay() {\r\n        const timeNow = new Date();\r\n        if (timeNow.getHours() >= 21 || timeNow.getHours() < 4) {\r\n            return \"night\";\r\n        } else if (timeNow.getHours() >= 18) {\r\n            return \"evening\";\r\n        } else if (timeNow.getHours() >= 12) {\r\n            return \"afternoon\";\r\n        }\r\n        return \"morning\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"NavBar WHITE__BG\"}>\r\n            {renderClientInfo()}\r\n        </div>\r\n    );\r\n}","import { ClientType } from \"../../../Models/ClientType\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport \"./AddItemElement.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { RouteUrls } from \"../../../Services/RouteUrls\";\r\n\r\ninterface AddItemElementProps {\r\n    clientType: ClientType;\r\n}\r\n\r\nexport default function AddItemElement(props: AddItemElementProps): JSX.Element {\r\n\r\n    function companyOptions() {\r\n        return (\r\n            <>\r\n                <NavLink to={RouteUrls.CREATE_COUPON}>Add coupon</NavLink>\r\n            </>\r\n        )\r\n    }\r\n\r\n    function adminOptions() {\r\n        return (\r\n            <>\r\n                <NavLink to={RouteUrls.CREATE_CUSTOMER}>Add customer</NavLink>\r\n                <NavLink to={RouteUrls.CREATE_COMPANY}>Add company</NavLink>\r\n            </>\r\n        )\r\n    }\r\n\r\n    function render() {\r\n        switch (props.clientType) {\r\n            case ClientType.COMPANY:\r\n                return companyOptions();\r\n            case ClientType.ADMIN:\r\n                return adminOptions();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"AddItemElement DropDown\">\r\n            <button className=\"DropBtn NAV__BUTTON\" >\r\n                <Icon onClick={() => { }} className=\"Menu__button\" component={AddIcon} />\r\n            </button>\r\n            <div className=\"DropDownContent\">\r\n                {render()}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import Icon from '@material-ui/core/Icon';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PersonRoundedIcon from '@material-ui/icons/PersonRounded';\r\nimport { NavLink } from 'react-router-dom';\r\nimport \"./Menu.css\";\r\nimport { ClientType } from '../../../Models/ClientType';\r\nimport { useAppSelector } from '../../../Redux/Hooks/hooks';\r\nimport AddItemElement from '../../InputArea/AddItemElement/AddItemElement';\r\nimport { ClientInfoModel } from '../../../Models/ClientInfoModel';\r\n\r\nexport default function Menu(): JSX.Element {\r\n\r\n    const client = useAppSelector(state =>\r\n        state.currentClientState.client\r\n    );\r\n\r\n    return (\r\n        <div className=\"Menu WHITE__BG\">\r\n            <NavLink className=\"NAV__BUTTON\" to=\"/home\">\r\n                <Icon className=\"Menu__button\" component={HomeIcon} />\r\n            </NavLink>\r\n\r\n            {/* display only if active company or admin logged in */}\r\n            {(client as ClientInfoModel)?.active && (client?.clientType === ClientType.ADMIN || client?.clientType === ClientType.COMPANY) &&\r\n                <AddItemElement clientType={client.clientType} />\r\n            }\r\n\r\n            {/* display only if client logged in */}\r\n            {client?.clientType !== undefined &&\r\n                <NavLink className=\"NAV__BUTTON\" to=\"/profile\">\r\n                    <Icon className=\"Menu__button\" component={PersonRoundedIcon} />\r\n                </NavLink>\r\n            }\r\n\r\n            {/* display cart only for customers type */}\r\n            {(client?.clientType === undefined || client?.clientType === ClientType.CUSTOMER) &&\r\n                <NavLink className=\"NAV__BUTTON\" to=\"/cart\">\r\n                    <Icon className=\"Menu__button\" component={ShoppingCartIcon} />\r\n                </NavLink>\r\n            }\r\n        </div>\r\n    );\r\n}","const AppCurrencySymbol = \"₪\";\r\n\r\nexport default AppCurrencySymbol;","import \"./EmptyView.css\";\r\n\r\ninterface EmptyViewProps {\r\n    text?: string;\r\n    state?: \"happy\";\r\n}\r\n\r\nexport default function EmptyView(props: EmptyViewProps): JSX.Element {\r\n\r\n    return (\r\n        <div className=\"EmptyView\">\r\n            {props.state === \"happy\" ? (\r\n                <>\r\n                    <img\r\n                        className=\"iframegif happygif\"\r\n                        width=\"444px\"\r\n                        height=\"334px\"\r\n                        alt=\"Tom dancing\"\r\n                    />\r\n                    \r\n                </>\r\n            ) : (\r\n                <>\r\n                    <p className=\"EmptyViewText\">{props.text ? props.text : \"\"}</p>\r\n                    <img\r\n                        className=\"iframegif depressedgif\"\r\n                        alt=\"Tom and Jerry depressed\"\r\n                        width=\"480px\"\r\n                        height=\"198px\"\r\n                    />\r\n                   \r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}","import { ChangeEventHandler, useEffect, useState } from \"react\";\r\nimport { FilterType } from \"../../../Models/FilterType\";\r\nimport { addFilter, removeFilter } from \"../../../Redux/Actions/FilterAction\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport \"./CheckBox.css\";\r\n\r\ninterface CheckBoxProps {\r\n    filterKey: FilterType;\r\n    filterValue: string | number;\r\n    changeEventHandler?: ChangeEventHandler;\r\n}\r\n\r\nexport default function CheckBox({ filterKey, filterValue }: CheckBoxProps): JSX.Element {\r\n\r\n    const [checked, setChecked] = useState(false);\r\n\r\n    const isActive = useAppSelector(state =>\r\n        state.filterAppState.filtersActive\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (!isActive) {\r\n            setChecked(false);\r\n        }\r\n    }, [isActive])\r\n\r\n    const handleChange = () => {\r\n        setChecked(!checked);\r\n        /* update filters global state */\r\n        if (!checked) {\r\n            store.dispatch(addFilter(filterKey, filterValue));\r\n        } else {\r\n            store.dispatch(removeFilter(filterKey, filterValue));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"CheckBox\">\r\n            <label className=\"container\">\r\n                {filterValue.toString().toLowerCase()}\r\n                <input\r\n                    type=\"checkbox\"\r\n                    checked={checked}\r\n                    onChange={handleChange}\r\n                />\r\n                <span className=\"checkmark\"></span>\r\n            </label>\r\n        </div>\r\n    );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { FilterType } from \"../../../../Models/FilterType\";\r\nimport CheckBox from \"../../../InputArea/CheckBox/CheckBox\";\r\nimport \"./CategoriesFilter.css\";\r\n\r\ninterface CategoriesFilterProps {\r\n    categories: string[];\r\n}\r\n\r\nexport default function CategoriesFilter(props: CategoriesFilterProps): JSX.Element {\r\n\r\n    const [categories, setCategories] = useState<string[]>([]);\r\n\r\n    useEffect(() => {\r\n        setCategories(Array.from(new Set(props.categories)));\r\n    }, [props.categories])\r\n\r\n    return (\r\n        <div className=\"CategoriesFilter\">\r\n            <p>Categories</p>\r\n            {categories.map(c => <CheckBox key={c} filterKey={FilterType.CATEGORIES} filterValue={c} />)}\r\n        </div>\r\n    );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { FilterType } from \"../../../../Models/FilterType\";\r\nimport CheckBox from \"../../../InputArea/CheckBox/CheckBox\";\r\nimport \"./CompaniesFilter.css\";\r\n\r\ninterface CompaniesFilterProps {\r\n    companies: string[];\r\n}\r\n\r\nexport default function CompaniesFilter(props: CompaniesFilterProps): JSX.Element {\r\n\r\n    const [companies, setCompanies] = useState<string[]>([]);\r\n\r\n    useEffect(() => {\r\n        setCompanies(Array.from(new Set(props.companies)));\r\n    }, [props.companies])\r\n\r\n    return (\r\n        <div className=\"CompaniesFilter\">\r\n            <p>Companies </p>\r\n            {companies.map(c => <CheckBox key={c} filterKey={FilterType.COMPANIES} filterValue={c} />)}\r\n        </div>\r\n    );\r\n}","import { store } from \"../../../../Redux/Store/Store\";\r\nimport \"./FreeTextFilter.css\";\r\nimport { Control, useForm, useWatch } from \"react-hook-form\";\r\nimport { addFilter } from \"../../../../Redux/Actions/FilterAction\";\r\nimport { FilterType } from \"../../../../Models/FilterType\";\r\nimport { useAppSelector } from \"../../../../Redux/Hooks/hooks\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface FormInput {\r\n    freeText: string\r\n}\r\n\r\nexport default function FreeTextFilter(): JSX.Element {\r\n\r\n    const { register, control, handleSubmit, reset } = useForm<FormInput>();\r\n\r\n    const isActive = useAppSelector(state =>\r\n        state.filterAppState.filtersActive\r\n    );\r\n\r\n    function FreeTextFilterWatched({ control }: { control: Control<FormInput> }) {\r\n\r\n        const freeText = useWatch({\r\n            control, name: \"freeText\", defaultValue: \"\"\r\n        });\r\n        return <p>Free Text {freeText.length > 0 ? \": \" + freeText : freeText}</p>\r\n    }\r\n\r\n    const onSubmit = (data: FormInput) => {\r\n        store.dispatch(addFilter(FilterType.TEXT, data.freeText));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!isActive) {\r\n            reset();\r\n        }\r\n\r\n    }, [isActive, reset])\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"FreeTextFilter\">\r\n            <FreeTextFilterWatched control={control} />\r\n            <input placeholder=\"search query\" maxLength={20} className=\"FIELD\" {...register(\"freeText\")} />\r\n            <button className=\"APP__BUTTON\" type=\"submit\">Submit</button>\r\n\r\n        </form>\r\n    );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { FilterType } from \"../../../../Models/FilterType\";\r\nimport { addFilter } from \"../../../../Redux/Actions/FilterAction\";\r\nimport { useAppSelector } from \"../../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../../Redux/Store/Store\";\r\nimport \"./PriceFilter.css\";\r\n\r\ninterface PriceFilterProps {\r\n    maxNumber: number;\r\n}\r\n\r\nexport default function PriceFilter(props: PriceFilterProps): JSX.Element {\r\n\r\n    const [value, setValue] = useState(0);\r\n\r\n    const isActive = useAppSelector(state =>\r\n        state.filterAppState.filtersActive\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (!isActive) {\r\n            setValue(props.maxNumber);\r\n        }\r\n    }, [isActive, props.maxNumber])\r\n\r\n    useEffect(() => {\r\n        setValue(props.maxNumber);\r\n    }, [props.maxNumber])\r\n\r\n    function handleDispatchValue(event: React.MouseEvent<HTMLInputElement>) {\r\n        store.dispatch(addFilter(FilterType.PRICE, evalNumber(event.currentTarget.value)));\r\n    }\r\n\r\n    function handleCHange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        setValue(evalNumber(event.currentTarget.value));\r\n    }\r\n\r\n    function evalNumber(number: string | number) {\r\n        if (typeof number === \"number\") {\r\n            return Math.trunc(number);\r\n        }\r\n        return Math.trunc(parseFloat(number));\r\n    }\r\n\r\n    return (\r\n        <div className=\"PriceFilter\">\r\n            <p>Price</p>\r\n            <div className=\"PriceFilterContainer\">\r\n                <input className=\"PriceFilterRange\" onChange={(event) => handleCHange(event)} value={value} onMouseUp={(event) => handleDispatchValue(event)} min={0} max={evalNumber(props.maxNumber) + 1} type=\"range\"></input>\r\n                <span>{value === 0 ? \"Free\" : value}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { store } from \"../../../../Redux/Store/Store\";\r\nimport \"./IdFilter.css\";\r\nimport { Control, useForm, useWatch } from \"react-hook-form\";\r\nimport { addFilter } from \"../../../../Redux/Actions/FilterAction\";\r\nimport { FilterType } from \"../../../../Models/FilterType\";\r\nimport { useAppSelector } from \"../../../../Redux/Hooks/hooks\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface FormInput {\r\n    id: number\r\n}\r\n\r\nexport default function IdFilter(): JSX.Element {\r\n\r\n    const { register, control, handleSubmit, reset } = useForm<FormInput>();\r\n\r\n    const isActive = useAppSelector(state =>\r\n        state.filterAppState.filtersActive\r\n    );\r\n\r\n    function IdFilterWatched({ control }: { control: Control<FormInput> }) {\r\n\r\n        const id = useWatch({\r\n            control, name: \"id\", defaultValue: -99\r\n        });\r\n        return <p>Clients id {id >= 0 ? \": \" + id : \"\"}</p>\r\n    }\r\n\r\n    const onSubmit = (data: FormInput) => {\r\n        store.dispatch(addFilter(FilterType.ID, data.id));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!isActive) {\r\n            reset();\r\n        }\r\n\r\n    }, [isActive, reset])\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"IdFilter\">\r\n            <IdFilterWatched control={control} />\r\n            <input placeholder=\"clients id query\" maxLength={20} className=\"FIELD\" {...register(\"id\")} />\r\n            <button className=\"APP__BUTTON\" type=\"submit\">Submit</button>\r\n        </form>\r\n    );\r\n}","import { useState } from \"react\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { clearFilters } from \"../../../Redux/Actions/FilterAction\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport CategoriesFilter from \"../Filters/CategoriesFilter/CategoriesFilter\";\r\nimport CompaniesFilter from \"../Filters/CompaniesFilter/CompaniesFilter\";\r\nimport FreeTextFilter from \"../Filters/FreeTextFilter/FreeTextFilter\";\r\nimport PriceFilter from \"../Filters/PriceFilter/PriceFilter\";\r\nimport \"./FiltersContainer.css\";\r\nimport { CustomerModel } from \"../../../Models/CustomerModel\";\r\nimport { CompanyModel } from \"../../../Models/CompanyModel\";\r\nimport IdFilter from \"../Filters/IdFilter/IdFilter\";\r\n\r\ninterface FiltersContainerProps {\r\n    coupons?: CouponModel[];\r\n    clients?: CustomerModel[] | CompanyModel[];\r\n}\r\n\r\nexport default function FiltersContainer(props: FiltersContainerProps): JSX.Element {\r\n\r\n    const clearFunction = () => {\r\n        store.dispatch(clearFilters());\r\n    }\r\n\r\n    const [view, setView] = useState<string>(\"\");\r\n\r\n    const toggleView = () => {\r\n        if (view === \"ShowFiltersContainer\") {\r\n            setView(\"\");\r\n        } else {\r\n            setView(\"ShowFiltersContainer\");\r\n        }\r\n    }\r\n\r\n    function render() {\r\n        if (props.coupons && props.coupons.length > 0) {\r\n            return (\r\n                <>\r\n                    <CategoriesFilter categories={props.coupons.map(c => c.category)} />\r\n                    <CompaniesFilter companies={props.coupons.map(c => c.companyName)} />\r\n                    <PriceFilter maxNumber={Math.max(...props.coupons.map(c => c.price))} />\r\n                    <FreeTextFilter />\r\n                </>\r\n            );\r\n        } else if (props.clients && props.clients.length > 0) {\r\n            return (\r\n                <>\r\n                    <IdFilter />\r\n                    <FreeTextFilter />\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={\"FiltersContainerSection\"}>\r\n            <div className={\"FiltersContainer \" + view}>\r\n                <div className=\"FiltersView\">\r\n                    {render()}\r\n                </div>\r\n                <button className=\"ClearFiltersButton APP__BUTTON\" onClick={clearFunction}>Clear filters</button>\r\n            </div>\r\n            <button onClick={() => toggleView()} className=\"FiltersContainerButton  APP__BUTTON\">\r\n                <p className=\"FiltersText\">{\"filters\"}</p>\r\n                <p className=\"FiltersArrow\">{view === \"\" ? \">\" : \"<\"}</p>\r\n            </button>\r\n        </section>\r\n    );\r\n}","import { toast } from \"react-toastify\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { addToCart } from \"../../../Redux/Actions/CartAction\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport \"./CouponCard.css\";\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport AppCurrencySymbol from \"../../../Services/Currency\";\r\n\r\ninterface CardProps {\r\n    coupon: CouponModel;\r\n}\r\n\r\nexport default function CouponCard(props: CardProps): JSX.Element {\r\n\r\n    function emitToast(coupon: CouponModel) {\r\n        // coupon already in cart case\r\n        if (store.getState().cartAppState.forPurchaseCouponsList.find(c => c.id === coupon.id) !== undefined) {\r\n            toast.warn(\r\n                <div className=\"Toast__element\">\r\n                    <p><span className=\"Coupon__title\">{coupon.title}</span> already in your cart</p>\r\n                </div>, {\r\n                toastId: coupon.id,\r\n                theme: \"colored\"\r\n            });\r\n        }\r\n\r\n        // coupon not in cart case\r\n        else {\r\n            store.dispatch(addToCart(coupon));\r\n            toast.success(\r\n                <div className=\"Toast__element\">\r\n                    <p>\"{coupon.title}\"</p>\r\n                    <p>added to cart</p>\r\n                </div>, {\r\n                theme: \"colored\",\r\n                icon: <Icon component={ShoppingCartIcon} />\r\n            });\r\n        }\r\n    }\r\n\r\n    function validStartDate(): Boolean {\r\n        if (props.coupon && new Date(props.coupon.startDate + \"Z\").getTime() >= Date.now()) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function formatDate(date:Date){\r\n        const jsDate = new Date(date + \"Z\");\r\n        const year:number = jsDate.getFullYear();\r\n        const month:number = jsDate.getMonth() + 1;\r\n        const day:number = jsDate.getDate();\r\n        return `${day}.${month}.${year}`;\r\n    }\r\n\r\n    return (\r\n        <div className=\"CouponCard\">\r\n            <div className={\"CouponCardState \" + (validStartDate() ? \"\" : \"ComingSoon\")}>\r\n                <div className=\"ComingSoon_tag\">\r\n                    <p>{`Get me from ${formatDate(props.coupon.startDate)}`}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"CouponCardData\">\r\n                    {validStartDate() && <div className=\"Price_tag\">\r\n                    <p className=\"Price\">{props.coupon.price === 0 ? \"FREE\" : props.coupon.price.toFixed(2) + \" \" + AppCurrencySymbol}</p>\r\n                </div>}\r\n                <div className=\"Image_container\">\r\n                    <img className=\"Image\" src={props.coupon.imageUrl} alt=\"coupon\" />\r\n                </div>\r\n                <div className=\"Text_container\">\r\n                    <p className=\"Title\">{props.coupon.title}</p>\r\n                    <p className=\"Company\">{`By ${props.coupon.companyName}`}</p>\r\n                    <p className=\"Category\">{props.coupon.category}</p>\r\n                    <p className=\"Description\">{props.coupon.description}</p>\r\n                    <p className=\"EndDate\">{`Ends on ${formatDate(props.coupon.endDate)}`}</p>\r\n                </div>\r\n            </div>\r\n            {validStartDate() && <button className=\"CardButton APP__BUTTON\" onClick={() => emitToast(props.coupon)}>Add to Cart</button>}\r\n        </div>\r\n    );\r\n}","import \"./EditableTableRow.css\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { MouseEventHandler, useEffect, useState } from \"react\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport React from \"react\";\r\nimport AppCurrencySymbol from \"../../../Services/Currency\";\r\nimport { CustomerModel } from \"../../../Models/CustomerModel\";\r\nimport { CompanyModel } from \"../../../Models/CompanyModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\n\r\ninterface EditableTableRowProps {\r\n    objectModel: \"CouponModel\" | \"CustomerModel\" | \"CompanyModel\";\r\n    object: CouponModel | CustomerModel | CompanyModel;\r\n    ignoreFieldsFunction?: Function;\r\n    nonEditableFields?: string[];\r\n    className?: string;\r\n    tdClassName?: string;\r\n    id?: any;\r\n    inEditMode?: boolean;\r\n    isHeader?: boolean;\r\n    onClick?: MouseEventHandler<HTMLTableRowElement>;\r\n    onSave?: React.Dispatch<React.SetStateAction<any>>;\r\n    preventToast?: boolean;\r\n}\r\n\r\nexport default function EditableTableRow(props: EditableTableRowProps): JSX.Element {\r\n\r\n    const [newObject, setNewObject] = useState<CustomerModel | CouponModel | CompanyModel>({ ...props.object });\r\n\r\n    useEffect(() => {\r\n        props.inEditMode && emitToast();\r\n        toast.update(\"TableEditToast\", {\r\n            render: toastComponent(newObject)\r\n        });\r\n    }, [props.inEditMode, newObject]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const toastComponent = (object: any) => {\r\n        return (\r\n            <div>\r\n                <span>Save / Cancel changes? </span>\r\n                <button\r\n                    onClick={() => {\r\n                        switch (props.objectModel) {\r\n                            case \"CouponModel\":\r\n                                GlobalDataStreamer.updateCoupon(object).then((result) => {\r\n                                    if (result) {\r\n                                        props.onSave && props.onSave(0);\r\n                                    }\r\n                                });\r\n                                break;\r\n                            case \"CustomerModel\":\r\n                                GlobalDataStreamer.updateCustomer(object).then((result) => {\r\n                                    if (result) {\r\n                                        props.onSave && props.onSave(0);\r\n                                    }\r\n                                });\r\n                                break;\r\n                            case \"CompanyModel\":\r\n                                GlobalDataStreamer.updateCompany(object).then((result) => {\r\n                                    if (result) {\r\n                                        props.onSave && props.onSave(0);\r\n                                    }\r\n                                });\r\n                                break;\r\n                        }\r\n                    }}\r\n                    className=\"Toast__button\" ><Icon component={CheckIcon} />\r\n                </button>\r\n                <button\r\n                    className=\"Toast__button\"\r\n                    onClick={() => {\r\n                        if (props.onSave) {\r\n                            setNewObject(props.object);\r\n                            props.onSave(0); // cancel editing\r\n                        }\r\n                    }}>\r\n                    <Icon component={CloseIcon} />\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function emitToast() {\r\n        toast.warning(\r\n            toastComponent, {\r\n            toastId: \"TableEditToast\",\r\n            theme: \"colored\",\r\n            position: \"top-center\",\r\n            autoClose: false\r\n        });\r\n    }\r\n\r\n    const setNewObjectValue = (key: any, value: any) => {\r\n        const map: Map<any, any> = new Map(Object.entries(newObject));\r\n        map.set(key, value);\r\n        setNewObject(Object.fromEntries(map));\r\n    }\r\n\r\n    /* if amount or price is zero or end date is near, set warn class\r\n   ----------------------------------------------------------------------- */\r\n    function setWarningClass(key: string, value: any) {\r\n        const timeNowInMillis = Date.parse(new Date().toLocaleDateString());\r\n        if (value === 0) {\r\n            return \" Warn\";\r\n        } else if (key.toLowerCase().includes(\"enddate\")) {\r\n            if (Date.parse(new Date(value).toLocaleDateString()) < timeNowInMillis) {\r\n                return \" Warn\";\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /*  set cell width\r\n    ****************************************************************************************************/\r\n    function setCellWidth(value: string) {\r\n        const length = value.toLowerCase().replaceAll(\" \", \"\").length;\r\n        if (length <= 2) {\r\n            return { width: \"20%\" }\r\n        } else if (length <= 10) {\r\n            return { width: \"30%\" }\r\n        } else if (length <= 20) {\r\n            return { width: \"50%\" }\r\n        } else {\r\n            return { width: \"50%\" }\r\n        }\r\n    }\r\n\r\n    /*  return proper input field depending on type\r\n    ****************************************************************************************************/\r\n    function inputByValueType(key: string, value: any) {\r\n        if (key.toLowerCase().includes(\"date\")) {\r\n            return <input\r\n                type=\"date\"\r\n                defaultValue={`${value}`}\r\n                onBlur={(event) => {\r\n                    setNewObjectValue(key, event.target.value);\r\n                }}\r\n                onKeyDown={(event) => {\r\n                    if (event.key === \"Enter\") {\r\n                        (event.target as HTMLInputElement).blur();\r\n                    }\r\n                }} />\r\n        } else if (key.includes(\"price\")) {\r\n            return <input\r\n                step=\"any\"\r\n                type=\"number\"\r\n                defaultValue={`${value}`}\r\n                onBlur={(event) => {\r\n                    setNewObjectValue(key, event.target.value);\r\n                }}\r\n                onKeyDown={(event) => {\r\n                    if (event.key === \"Enter\") {\r\n                        (event.target as HTMLInputElement).blur();\r\n                    }\r\n                }} />\r\n        } else if (key.includes(\"amount\")) {\r\n            return <input\r\n                step=\"1\"\r\n                type=\"number\"\r\n                defaultValue={`${value}`}\r\n                onBlur={(event) => {\r\n                    setNewObjectValue(key, event.target.value);\r\n                }}\r\n                onKeyDown={(event) => {\r\n                    if (event.key === \"Enter\") {\r\n                        (event.target as HTMLInputElement).blur();\r\n                    }\r\n                }} />\r\n        } else if (key.includes(\"category\")) {\r\n            return (\r\n                <select\r\n                    onBlur={(event) => {\r\n                        setNewObjectValue(key, event.target.value);\r\n                    }}\r\n                    onKeyDown={(event) => {\r\n                        if (event.key === \"Enter\") {\r\n                            (event.target as HTMLInputElement).blur();\r\n                        }\r\n                    }}\r\n                    defaultValue={value} >\r\n                    {store.getState().categoriesAppState.categories.map(category =>\r\n                        <option\r\n                            key={category}\r\n                            value={category}>\r\n                            {category}\r\n                        </option>)}\r\n                </select>\r\n            )\r\n        } else if (key.toLowerCase().includes(\"clienttype\")) {\r\n            const clientTypes: string[] = Object.keys(ClientType).filter(key => typeof key === \"string\");\r\n            return (\r\n                <select\r\n                    onBlur={(event) => {\r\n                        setNewObjectValue(key, event.target.value);\r\n                    }}\r\n                    onKeyDown={(event) => {\r\n                        if (event.key === \"Enter\") {\r\n                            (event.target as HTMLInputElement).blur();\r\n                        }\r\n                    }}\r\n                    defaultValue={value} >\r\n                    {clientTypes.map(clientType =>\r\n                        <option\r\n                            key={clientType}\r\n                            value={clientType}>\r\n                            {clientType}\r\n                        </option>)}\r\n                </select>\r\n            )\r\n        } else if (key.toLowerCase().includes(\"active\")) {\r\n            return (\r\n                <select\r\n                    onBlur={(event) => {\r\n                        setNewObjectValue(key, event.target.value);\r\n                    }}\r\n                    onKeyDown={(event) => {\r\n                        if (event.key === \"Enter\") {\r\n                            (event.target as HTMLInputElement).blur();\r\n                        }\r\n                    }}\r\n                    defaultValue={value} >\r\n                    <option\r\n                        key={\"false\"}\r\n                        value={\"false\"}>\r\n                        {\"False\"}\r\n                    </option>\r\n                    <option\r\n                        key={\"true\"}\r\n                        value={\"true\"}>\r\n                        {\"True\"}\r\n                    </option>\r\n                </select>\r\n\r\n            )\r\n        }\r\n        return <input\r\n            type=\"text\"\r\n            defaultValue={`${value}`}\r\n            onBlur={(event) => {\r\n                setNewObjectValue(key, event.target.value);\r\n            }}\r\n            onKeyDown={(event) => {\r\n                if (event.key === \"Enter\") {\r\n                    (event.target as HTMLInputElement).blur();\r\n                }\r\n            }} />\r\n    }\r\n\r\n    /*  checks if value allowed to be edited\r\n    ****************************************************************************************************/\r\n    function editableValueValidation(value: string) {\r\n        if (props.nonEditableFields !== undefined && props.nonEditableFields.includes(value)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /*  render logic\r\n    ****************************************************************************************************/\r\n    function render() {\r\n        let counter = 1;\r\n        const keyValueArrays = props.ignoreFieldsFunction !== undefined ? Array.from((props.ignoreFieldsFunction(props.object) as Map<string, any>).entries()) : Array.from(Object.entries(props.object));\r\n        // check if data represent a header\r\n        if (props.isHeader) {\r\n            return (\r\n                keyValueArrays.map(([key, value]) => <th\r\n                    style={setCellWidth(`${value}`)}\r\n                    key={props.object.id + counter++}\r\n                    className=\"EditableTH\"\r\n                >{key}</th>)\r\n            );\r\n        }\r\n\r\n        // if in edit mode\r\n        else if (props.inEditMode) {\r\n            // const keyValueArrays = props.ignoreFieldsFunction !== undefined ?  Array.from((props.ignoreFieldsFunction(props.object) as Map<string, any>).entries()) : Array.from(Object.entries(props.object));\r\n            return (\r\n                keyValueArrays.map(([key, value]) => {\r\n                    // editable fields case\r\n                    if (editableValueValidation(key)) {\r\n                        return (\r\n                            <td\r\n                                className={\"EditableTD \" + props.tdClassName}\r\n                                style={setCellWidth(`${value}`)}\r\n                                key={props.object.id + counter++}>\r\n                                {inputByValueType(key, value)}\r\n                            </td>\r\n                        )\r\n                    }\r\n                    // non editable fields case\r\n                    return (\r\n                        <td\r\n                            className={\"EditableTD \" + props.tdClassName}\r\n                            style={setCellWidth(`${value}`)}\r\n                            key={props.object.id + counter++}>\r\n                            {`${value}` + (key.includes(\"price\") ? AppCurrencySymbol : \"\")}\r\n                        </td>\r\n                    )\r\n                })\r\n            );\r\n        }\r\n\r\n        // other cases\r\n        return (\r\n            keyValueArrays.map(([key, value]) => {\r\n                if (key.toLowerCase().includes(\"image\")) {\r\n                    return (\r\n                        <td\r\n                            className={\"EditableTD \" + props.tdClassName}\r\n                            key={props.object.id + counter++}>\r\n                            {<img className=\"EditableTDImage\" src={value} alt=\"coupon\" />}\r\n                        </td>\r\n                    );\r\n                }\r\n\r\n                return (\r\n                    <td\r\n                        className={\"EditableTD \" + props.tdClassName + setWarningClass(key, value)}\r\n                        key={props.object.id + counter++}>\r\n                        {`${value}` + (key.includes(\"price\") ? AppCurrencySymbol : \"\")}\r\n                    </td>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\r\n    return (\r\n        <tr\r\n            onClick={props.inEditMode ? () => emitToast() : props.onClick}\r\n            id={props.id}\r\n            onKeyDown={(event) => {\r\n                if (event.key === \"Escape\") {\r\n                    if (props.onSave) {\r\n                        toast.dismiss(\"TableEditToast\");\r\n                        setNewObject(props.object);\r\n                        props.onSave(0); // cancel editing\r\n                    }\r\n                }\r\n            }}\r\n            className={(props.className ? props.className : \"\") + (props.inEditMode ? \" TrInEdit \" : \" \") + (\"\")}>\r\n            {render()}\r\n        </tr>\r\n    )\r\n}","import { toast } from \"react-toastify\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport \"./CouponsContainer.css\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport { deleteFromCart } from \"../../../Redux/Actions/CartAction\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport { useEffect, useState } from \"react\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport FiltersContainer from \"../../FiltersArea/FiltersContainer/FiltersContainer\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport CouponCard from \"../CouponCard/CouponCard\";\r\nimport EditableTableRow from \"../../InputArea/EditableTableRow/EditableTableRow\";\r\n\r\ninterface ContainerProps {\r\n    couponsList: CouponModel[]; // coupons list\r\n    editable?: boolean; // allow coupons to be edited\r\n    asList?: boolean; // show coupons as list instead of cards\r\n    onlyValid?: boolean; // omit coupons with zero amount and expired date\r\n    ignoreFields?: string[]; // omit specified fields when rendering coupons\r\n    insteadOfDisplayedText?: string; \r\n    preventToast?: boolean;\r\n}\r\n\r\nexport default function CouponsContainer(props: ContainerProps): JSX.Element {\r\n    // sets edit mode\r\n    const [editCouponWithId, setEditCouponWithId] = useState<number>(0);\r\n\r\n    // coupons state\r\n    const [coupons, setCoupons] = useState<CouponModel[]>([]);\r\n\r\n    // store filters subscribe\r\n    const appfilters = useAppSelector(state => state.filterAppState);\r\n\r\n    /* this function filters coupon list by active filters and props\r\n    ----------------------------------------------------------------------- */\r\n    const filterCoupons =\r\n        (coupons: CouponModel[]) => {\r\n            let filteredList;\r\n            // skip coupons that are expired or amount is zero\r\n            if (props.onlyValid) {\r\n                const timeNowInMillis = Date.parse(new Date().toLocaleDateString());\r\n                filteredList = coupons.filter(c => {\r\n                    if (c.amount === 0) {\r\n                        return false;\r\n                    } else if (Date.parse(new Date(c.endDate).toLocaleDateString()) < timeNowInMillis) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n                );\r\n            } else {\r\n                filteredList = coupons;\r\n            }\r\n\r\n            // filter by categories and companies\r\n            if (appfilters.categoriesList.length > 0 || appfilters.companiesList.length > 0) {\r\n                if (appfilters.categoriesList.length > 0 && appfilters.companiesList.length > 0) {\r\n                    filteredList = filteredList.filter((c) =>\r\n                        appfilters.categoriesList.includes(c.category) &&\r\n                        appfilters.companiesList.includes(c.companyName));\r\n                } else if (appfilters.categoriesList.length > 0) {\r\n                    filteredList = filteredList.filter((c) =>\r\n                        appfilters.categoriesList.includes(c.category));\r\n                } else {\r\n                    filteredList = filteredList.filter((c) =>\r\n                        appfilters.companiesList.includes(c.companyName));\r\n                }\r\n            }\r\n            // filter by price\r\n            if (appfilters.priceList >= 0) {\r\n                filteredList = filteredList.filter((c) => c.price <= appfilters.priceList);\r\n            }\r\n            //filter by free text\r\n            if (appfilters.freeText.length > 0) {\r\n                filteredList = filteredList.filter((c) =>\r\n                    c.title.toLowerCase().includes(appfilters.freeText) || c.description?.toLowerCase().includes(appfilters.freeText)\r\n                );\r\n            }\r\n            return filteredList;\r\n        } // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    /* this function creates a map of filtered values by provided props\r\n    ----------------------------------------------------------------------- */\r\n    function filteredMapFromObject(model: CouponModel): Map<string, any> {\r\n        const tempMapArray: Map<string, any> = new Map();\r\n        if (model === undefined) {\r\n            return tempMapArray;\r\n        }\r\n        mainLoop: for (const [key, value] of Object.entries(model)) {\r\n            // ignore keys with object by default\r\n            if ((typeof value === \"object\" && key.toLowerCase() !== \"image\") || value === undefined) {\r\n                continue;\r\n            }\r\n            //check for ignored fields\r\n            if (props.ignoreFields !== undefined && props.ignoreFields.length > 0) {\r\n                for (const ignored of props.ignoreFields) {\r\n                    if (key.toLowerCase() === ignored) {\r\n                        continue mainLoop;\r\n                    }\r\n                }\r\n            }\r\n            tempMapArray.set(key, value);\r\n        }\r\n        return tempMapArray;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.couponsList && props.couponsList.length > 0) {\r\n            setCoupons(filterCoupons(props.couponsList).sort(() => Math.random() - 0.5));\r\n        } else {\r\n            setCoupons([]);\r\n        }\r\n    }, [props.couponsList, appfilters]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    /* This function invoked on list render\r\n    ----------------------------------------------------------------------- */\r\n    function renderAsList() {\r\n        if (coupons.length > 0) {\r\n            let counter = 1;\r\n            return (\r\n                <table className=\"Coupons__table\">\r\n                    <thead>\r\n                        <EditableTableRow\r\n                            key={counter++}\r\n                            object={coupons[0]}\r\n                            objectModel={\"CouponModel\"}\r\n                            isHeader={true}\r\n                            ignoreFieldsFunction={filteredMapFromObject}\r\n                        />\r\n                    </thead>\r\n                    <tbody>\r\n                        {coupons.map(coupon =>\r\n                            coupon.id === editCouponWithId ?\r\n                                // in edit mode\r\n                                <EditableTableRow\r\n                                    key={coupon.id}\r\n                                    object={coupon}\r\n                                    objectModel={\"CouponModel\"}\r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    inEditMode={true}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\"]}\r\n                                    onSave={setEditCouponWithId} \r\n                                    preventToast={props.preventToast}\r\n                                />\r\n                                :\r\n                                // display mode\r\n                                <EditableTableRow\r\n                                    key={coupon.id}\r\n                                    object={coupon}\r\n                                    objectModel={\"CouponModel\"}\r\n                                    onClick={() => emitToast(coupon)} \r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\"]}\r\n                                    onSave={setEditCouponWithId} \r\n                                    preventToast={props.preventToast}\r\n                                />\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            );\r\n        }\r\n    }\r\n\r\n    /* This function invoked on cards render\r\n    ----------------------------------------------------------------------- */\r\n    function renderAsCards() {\r\n        if (coupons.length > 0) {\r\n            return coupons.map(c => <CouponCard coupon={c} key={c.id} />);\r\n        }\r\n    }\r\n\r\n    /* This function invoked when coupons list is empty\r\n    ----------------------------------------------------------------------- */\r\n    function renderEmptyView() {\r\n        return (\r\n            <EmptyView\r\n                text={\r\n                    store.getState().filterAppState.filtersActive\r\n                        ? \"No matching coupons, try changing filters\"\r\n                        : \"No coupons left\"\r\n                }\r\n            />\r\n        );\r\n    }\r\n\r\n    /* This function invoked when inside cart delete action happens\r\n    ----------------------------------------------------------------------- */\r\n    function deleteFromCartHandler(coupon: CouponModel) {\r\n        toast.dismiss(coupon.id);\r\n        store.dispatch(deleteFromCart(coupon));\r\n    }\r\n\r\n    /* emiting toast component\r\n    ----------------------------------------------------------------------- */\r\n    const emitToast = (coupon: CouponModel) => {\r\n        if(props.preventToast){\r\n            return;\r\n        }\r\n        toast.dismiss(); // close previous toasts\r\n        toast.warning(\r\n            () => {\r\n                // Editable case\r\n                if (props.editable) {\r\n                    return (\r\n                        <div>\r\n                            <span>\r\n                                Coupon id{\" \"}\r\n                                <span className=\"Coupon__title\">\r\n                                    '{coupon.id}'\r\n                                </span>{\" \"}\r\n                                action\r\n                            </span>\r\n\r\n                            {/* edit button */}\r\n                            <button\r\n                                onClick={() => {\r\n                                    setEditCouponWithId(coupon.id);\r\n                                    toast.dismiss(coupon.id);\r\n                                }}\r\n                                className=\"Toast__button\">\r\n                                {\" \"}\r\n                                <Icon component={EditIcon} />\r\n                            </button>\r\n\r\n                            {/* delete button */}\r\n                            <button\r\n                                onClick={() => {\r\n                                    GlobalDataStreamer.deleteCoupon(coupon.id);\r\n                                    toast.dismiss(coupon.id);\r\n                                    setEditCouponWithId(-1);\r\n                                }}\r\n                                className=\"Toast__button\">\r\n                                {\" \"}\r\n                                <Icon component={DeleteIcon} />\r\n                            </button>\r\n                        </div>\r\n                    );\r\n                }\r\n                // Non editable case\r\n                return (\r\n                    <div>\r\n                        <span>\r\n                            Delete coupon{\" \"}\r\n                            <span className=\"Coupon__title\">\r\n                                '{coupon.title}'\r\n                            </span>{\" \"}\r\n                            ?\r\n                        </span>\r\n                        <button\r\n                            onClick={() => deleteFromCartHandler(coupon)}\r\n                            className=\"Toast__button\">\r\n                            {\" \"}\r\n                            <Icon component={CheckIcon} />{\" \"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => toast.dismiss(coupon.id)}\r\n                            className=\"Toast__button\">\r\n                            {\" \"}\r\n                            <Icon component={CloseIcon} />{\" \"}\r\n                        </button>\r\n                    </div>\r\n                );\r\n            },\r\n            // toast properties\r\n            {\r\n                toastId: coupon.id, // prevent duplicate\r\n                position: \"top-center\",\r\n                theme: \"colored\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: false,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            }\r\n        );\r\n    };\r\n\r\n    /* render logic\r\n    ----------------------------------------------------------------------- */\r\n    const render = () => {\r\n        // if props are empty or undefined\r\n        if (!props.couponsList || props.couponsList.length === 0) {\r\n            return renderEmptyView();\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"CouponsCounter\">\r\n                    <p>\r\n                        {coupons.length + \" coupon\" +\r\n                            (coupons.length === 1 ? \" \" : \"s \") +\r\n                            (props.insteadOfDisplayedText ? props.insteadOfDisplayedText : \"displayed\")}\r\n                    </p>\r\n                </div>\r\n                <div className=\"CouponsView\">\r\n                    {props.asList ? renderAsList() : renderAsCards()}\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    /* paint component\r\n    ----------------------------------------------------------------------- */\r\n    return (\r\n        <div className=\"CouponsContainer\">\r\n           {(props.couponsList && props.couponsList.length) > 0 && <FiltersContainer\r\n                coupons={props.couponsList} />}\r\n            <div >\r\n                {coupons.length > 0 ? render() : renderEmptyView()}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import CheckIcon from \"@material-ui/icons/Check\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { toast } from \"react-toastify\";\r\nimport { clearCart, deleteInBatchFromCart } from \"../../../Redux/Actions/CartAction\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport AppCurrencySymbol from \"../../../Services/Currency\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport CouponsContainer from \"../../CouponsArea/CouponsContainer/CouponsContainer\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport \"./Cart.css\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function Cart(): JSX.Element {\r\n    const coupons = useAppSelector(\r\n        (state) => state.cartAppState.forPurchaseCouponsList\r\n    );\r\n\r\n    const [state, setState] = useState<\"happy\" | undefined>(undefined);\r\n\r\n    const removeExpiredCoupons = useCallback(() => {\r\n        const timeNowInMillis = Date.parse(new Date().toLocaleDateString());\r\n        const toDelete: number[] = [];\r\n        for (const c of coupons) {\r\n            if (\r\n                Date.parse(new Date(c.endDate).toLocaleDateString()) <\r\n                timeNowInMillis\r\n            ) {\r\n                toDelete.push(c.id);\r\n            }\r\n        }\r\n        store.dispatch(deleteInBatchFromCart(toDelete));\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        removeExpiredCoupons();\r\n    }, [removeExpiredCoupons]);\r\n\r\n    function buyHandler() {\r\n        if (store.getState().currentClientState.client) {\r\n            const toPurchase = coupons.map((c) => c.id);\r\n            GlobalDataStreamer.purchaseCoupons(toPurchase).then((result) => {\r\n                if (result) {\r\n                    setState(\"happy\");\r\n                }\r\n            });\r\n        } else {\r\n            toast.warn(\"You must be logged in for making purchases\", {\r\n                toastId: \"NotLoggedInToast\",\r\n                theme: \"colored\",\r\n            });\r\n        }\r\n    }\r\n\r\n    function clearCartHandler() {\r\n        toast.warning(\r\n            <div>\r\n                <span>All coupons will be deleted from your cart</span>\r\n                <button\r\n                    onClick={() => store.dispatch(clearCart())}\r\n                    className=\"Toast__button\"\r\n                >\r\n                    <Icon component={CheckIcon} />\r\n                </button>\r\n                <button\r\n                    onClick={() => toast.dismiss(\"Cart_Clean\")}\r\n                    className=\"Toast__button\"\r\n                >\r\n                    <Icon component={CloseIcon} />\r\n                </button>\r\n            </div>,\r\n            {\r\n                toastId: \"Cart_Clean\",\r\n                theme: \"colored\",\r\n                position: \"top-center\",\r\n                autoClose: 10000,\r\n            }\r\n        );\r\n    }\r\n\r\n    function classNameHandler() {\r\n        if (coupons.length > 0) {\r\n            return \"\";\r\n        } else {\r\n            return \"DISABLED__BUTTON\";\r\n        }\r\n    }\r\n\r\n    function isDisabledHandler() {\r\n        if (coupons.length > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Cart\">\r\n            {coupons.length > 0 ? (\r\n                <CouponsContainer\r\n                    couponsList={coupons}\r\n                    asList={true}\r\n                    ignoreFields={[\r\n                        \"startdate\",\r\n                        \"amount\",\r\n                        \"id\",\r\n                        \"companyentity\",\r\n                        \"companyemail\",\r\n                    ]}\r\n                />\r\n            ) : (\r\n                <>\r\n                    <EmptyView state={state} text=\"Your cart is empty\" />\r\n                </>\r\n            )}\r\n\r\n            <div className=\"Button__Container\">\r\n                <button\r\n                    disabled={isDisabledHandler()}\r\n                    onClick={() => buyHandler()}\r\n                    className={\"APP__BUTTON \" + classNameHandler()}\r\n                >\r\n                    Buy\r\n                </button>\r\n                <p className=\"CartInfoField\">\r\n                    {coupons.length}{\" \"}\r\n                    {coupons.length === 1 ? (\r\n                        <span>coupon</span>\r\n                    ) : (\r\n                        <span>coupons</span>\r\n                    )}{\" \"}\r\n                    in cart\r\n                </p>\r\n                <p className=\"CartInfoField\">\r\n                    Total price{\" \"}\r\n                    {coupons.reduce(\r\n                        (sum, currentCoupon) => sum + currentCoupon.price,\r\n                        0\r\n                    ).toFixed(2)}\r\n                    {AppCurrencySymbol}\r\n                </p>\r\n                <button\r\n                    disabled={isDisabledHandler()}\r\n                    onClick={() => clearCartHandler()}\r\n                    className={\"APP__BUTTON \" + classNameHandler()}\r\n                >\r\n                    Clear cart\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { TextField } from \"@mui/material\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ClientInfoModel } from \"../../../Models/ClientInfoModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport ApiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport \"./CreateCompanyForm.css\";\r\n\r\nexport default function CreateCompanyForm(): JSX.Element {\r\n\r\n    const { register, handleSubmit, reset, formState: { errors } } = useForm<ClientInfoModel>({\r\n        defaultValues: { clientType: ClientType.COMPANY, active: true },\r\n    });\r\n\r\n    const send = (company: ClientInfoModel) => {\r\n        GlobalDataStreamer.addCompany(company);\r\n    }\r\n\r\n    return (\r\n        <div className=\"CreateCompanyForm FORM\">\r\n            <h2> Create new company </h2>\r\n            <form onSubmit={handleSubmit(send)}>\r\n                <div className=\"InputFieldsContainer\">\r\n\r\n                    {/* company name */}\r\n                    <input maxLength={ApiGlobalLogic.items.company.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"company name\" {...register(\"name\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"Company name required\"\r\n                        },\r\n                        minLength: {\r\n                            value: ApiGlobalLogic.items.company.fieldsMinLength.name,\r\n                            message: ApiGlobalLogic.errorDescriptions.minLength.companyName\r\n                        }\r\n                    })} />\r\n                    {errors.name && <p className=\"Error\">{errors.name.message}</p>}\r\n\r\n                    {/* company email */}\r\n                    <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.email} type=\"email\" className=\"FIELD\" placeholder=\"company email\" {...register(\"email\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"Company email required\"\r\n                        },\r\n                        minLength: {\r\n                            value: ApiGlobalLogic.forms.fieldsMinLength.email,\r\n                            message: ApiGlobalLogic.errorDescriptions.minLength.email\r\n                        },\r\n                        pattern: {\r\n                            value: ApiGlobalLogic.patterns.regex.email,\r\n                            message: ApiGlobalLogic.errorDescriptions.badPattern.email\r\n                        }\r\n                    })} />\r\n                    {errors.email && <p className=\"Error\">{errors.email.message}</p>}\r\n\r\n                    {/* company password */}\r\n                    <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.password} type=\"text\" className=\"FIELD\" placeholder=\"company password\" {...register(\"password\", {\r\n                        required: {\r\n                            value: true,\r\n                            message: \"Company password required\"\r\n                        },\r\n                        minLength: {\r\n                            value: ApiGlobalLogic.forms.fieldsMinLength.password,\r\n                            message: ApiGlobalLogic.errorDescriptions.minLength.password\r\n                        },\r\n                        pattern: {\r\n                            value: ApiGlobalLogic.patterns.regex.password,\r\n                            message: ApiGlobalLogic.errorDescriptions.badPattern.password\r\n                        }\r\n                    })} />\r\n                    {errors.password && <p className=\"Error\">{errors.password.message}</p>}\r\n\r\n                    <br />\r\n                    <button\r\n                        type=\"reset\"\r\n                        onClick={() => {\r\n                            reset();\r\n                        }}\r\n                        className=\"BUTTON__AS_LINK\">reset form</button>\r\n                    <br />\r\n\r\n                    <button type=\"submit\" className=\"FIELD LINK APP__BUTTON\">Create</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport ApiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport \"./CreateCouponForm.css\";\r\n\r\nexport default function CreateCouponForm(): JSX.Element {\r\n\r\n    const [categories] = useState<string[]>(store.getState().categoriesAppState.categories);\r\n\r\n    const client = useAppSelector(state =>\r\n        state.currentClientState.client\r\n    );\r\n\r\n    const { register, handleSubmit, reset, formState: { errors } } = useForm<CouponModel>({\r\n        defaultValues: { company: client },\r\n    });\r\n\r\n    const send = (coupon: CouponModel) => {\r\n        GlobalDataStreamer.addCoupon(coupon);\r\n    }\r\n\r\n    return (\r\n        <div className=\"CreateCouponForm FORM\">\r\n            <h2> Create new coupon </h2>\r\n            <form onSubmit={handleSubmit(send)}>\r\n\r\n\r\n                <select className=\"SELECT\" {...register(\"category\", {\r\n                    required: true,\r\n                })}>\r\n                    {categories.map(category => <option key={category} value={category}>{category}</option>)}\r\n                </select>\r\n\r\n                {/* title */}\r\n                <input maxLength={ApiGlobalLogic.items.coupon.fieldsMaxLength.title} type=\"text\" className=\"FIELD\" placeholder=\"title\" {...register(\"title\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Title required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMinLength.title,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.couponTitle\r\n                    },\r\n                    maxLength: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMaxLength.title,\r\n                        message: ApiGlobalLogic.errorDescriptions.maxLength.title\r\n                    }\r\n                })} />\r\n                {errors.title && <p className=\"Error\">{errors.title.message}</p>}\r\n\r\n                {/* description */}\r\n                <input maxLength={ApiGlobalLogic.items.coupon.fieldsMaxLength.description} type=\"text\" className=\"FIELD\" placeholder=\"description\" {...register(\"description\", {\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMinLength.description,\r\n                        message: `Description must contain at least ${ApiGlobalLogic.items.coupon.fieldsMinLength.description} characters`\r\n                    },\r\n                    maxLength: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMaxLength.description,\r\n                        message: ApiGlobalLogic.errorDescriptions.maxLength.description\r\n                    }\r\n                })} />\r\n                {errors.description && <p className=\"Error\">{errors.description.message}</p>}\r\n\r\n                {/* start date */}\r\n                <input type=\"date\" className=\"FIELD\" placeholder=\"start date\" {...register(\"startDate\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Start date required\"\r\n                    }\r\n                })} />\r\n                {errors.startDate && <p className=\"Error\">{errors.startDate.message}</p>}\r\n\r\n                {/* end date */}\r\n                <input type=\"date\" className=\"FIELD\" placeholder=\"end date\" {...register(\"endDate\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"End date required\"\r\n                    }\r\n                })} />\r\n                {errors.endDate && <p className=\"Error\">{errors.endDate.message}</p>}\r\n\r\n                {/* amount */}\r\n                <input step=\"any\" min={ApiGlobalLogic.items.coupon.fieldsMinLength.amount} type=\"number\" className=\"FIELD\" placeholder=\"amount\" {...register(\"amount\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Amount required\"\r\n                    },\r\n                    max:{\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMaxLength.amount,\r\n                        message: ApiGlobalLogic.errorDescriptions.maxLength.amount\r\n                    },\r\n                    pattern: {\r\n                        value: ApiGlobalLogic.patterns.regex.numbers,\r\n                        message: ApiGlobalLogic.errorDescriptions.badPattern.amount\r\n                    }\r\n                })} />\r\n                {errors.amount && <p className=\"Error\">{errors.amount.message}</p>}\r\n\r\n                {/* price */}\r\n                <input step=\"any\" min={ApiGlobalLogic.items.coupon.fieldsMinLength.price} max={ApiGlobalLogic.items.coupon.fieldsMaxLength.price} type=\"number\" className=\"FIELD\" placeholder=\"price\" {...register(\"price\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Price required\"\r\n                    },\r\n                    min: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMinLength.price,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.price\r\n                    },\r\n                    max: {\r\n                        value: ApiGlobalLogic.items.coupon.fieldsMaxLength.price,\r\n                        message: ApiGlobalLogic.errorDescriptions.maxLength.price\r\n                    }\r\n                })} />\r\n                {errors.price && <p className=\"Error\">{errors.price.message}</p>}\r\n\r\n                {/* image */}\r\n                <input type=\"text\" className=\"FIELD\" placeholder=\"image url\" {...register(\"imageUrl\", {\r\n                })} />\r\n\r\n                <button\r\n                    type=\"reset\"\r\n                    onClick={() => {\r\n                        reset();\r\n                    }} className=\"BUTTON__AS_LINK\">reset form</button>\r\n                <br />\r\n                <button type=\"submit\" className=\"FIELD LINK APP__BUTTON\">Create</button>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n}","import { useForm } from \"react-hook-form\";\r\nimport { ClientInfoModel } from \"../../../Models/ClientInfoModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport ApiGlobalLogic from \"../../../Services/ApiGlobalLogic\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport \"./CreateCustomerForm.css\";\r\n\r\nexport default function CreateCustomerForm(): JSX.Element {\r\n\r\n    const { register, handleSubmit, reset, formState: { errors } } = useForm<ClientInfoModel>({\r\n        defaultValues: { clientType: ClientType.CUSTOMER, active: true },\r\n    });\r\n\r\n    const send = (customer: ClientInfoModel) => {\r\n        GlobalDataStreamer.addCustomer(customer);\r\n    }\r\n\r\n    return (\r\n        <div className=\"CreateCustomerForm FORM\">\r\n            <h2> Create new customer </h2>\r\n            <form onSubmit={handleSubmit(send)}>\r\n\r\n                {/* customers first name */}\r\n                <input maxLength={ApiGlobalLogic.items.customer.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"customers first name\" {...register(\"firstName\" as \"name\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Customers first name required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.items.customer.fieldsMinLength.name,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.customerName\r\n                    }\r\n                })} />\r\n                {errors.name && <p className=\"Error\">{errors.name.message}</p>}\r\n\r\n                {/* customers last name */}\r\n                <input maxLength={ApiGlobalLogic.items.customer.fieldsMaxLength.name} type=\"text\" className=\"FIELD\" placeholder=\"customers last name\" {...register(\"lastName\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Customers last name required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.items.customer.fieldsMinLength.name,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.customerName\r\n                    }\r\n                })} />\r\n                {errors.lastName && <p className=\"Error\">{errors.lastName.message}</p>}\r\n\r\n                {/* company email */}\r\n                <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.email} type=\"email\" className=\"FIELD\" placeholder=\"customers email\" {...register(\"email\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Customers email required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.forms.fieldsMinLength.email,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.email\r\n                    },\r\n                    pattern: {\r\n                        value: ApiGlobalLogic.patterns.regex.email,\r\n                        message: ApiGlobalLogic.errorDescriptions.badPattern.email\r\n                    }\r\n                })} />\r\n                {errors.email && <p className=\"Error\">{errors.email.message}</p>}\r\n\r\n                {/* company password */}\r\n                <input maxLength={ApiGlobalLogic.forms.fieldsMaxLength.password} type=\"text\" className=\"FIELD\" placeholder=\"customers password\" {...register(\"password\", {\r\n                    required: {\r\n                        value: true,\r\n                        message: \"Customers password required\"\r\n                    },\r\n                    minLength: {\r\n                        value: ApiGlobalLogic.forms.fieldsMinLength.password,\r\n                        message: ApiGlobalLogic.errorDescriptions.minLength.password\r\n                    },\r\n                    pattern: {\r\n                        value: ApiGlobalLogic.patterns.regex.password,\r\n                        message: ApiGlobalLogic.errorDescriptions.badPattern.password\r\n                    }\r\n                })} />\r\n                {errors.password && <p className=\"Error\">{errors.password.message}</p>}\r\n\r\n                <br />\r\n                <button\r\n                    type=\"reset\"\r\n                    onClick={() => {\r\n                        reset();\r\n                    }}\r\n                    className=\"BUTTON__AS_LINK\">reset form</button>\r\n                <br />\r\n\r\n                <button type=\"submit\" className=\"FIELD LINK APP__BUTTON\">Create</button>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n}","import { toast } from \"react-toastify\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { CompanyModel } from \"../../../Models/CompanyModel\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { CustomerModel } from \"../../../Models/CustomerModel\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\n\r\ninterface EmitActionToastProps {\r\n    object: CouponModel | CompanyModel | CustomerModel;\r\n    model: \"CouponModel\" | \"CustomerModel\" | \"CompanyModel\";\r\n    editCallback: Function;\r\n    editCallbackParam: any;\r\n    nonEditableCallbackFunction?: Function;\r\n    nonEditableFunctionParam?: any;\r\n    deleteCallback: Function;\r\n    deleteCallbackParam: any;\r\n    isEditable: boolean;\r\n}\r\n\r\nconst emitActionToast = (props: EmitActionToastProps) => {\r\n    toast.dismiss(); // close previous toasts\r\n    toast.warning(\r\n        () => {\r\n            // Editable case\r\n            if (props.isEditable) {\r\n                switch (props.model) {\r\n                    case \"CouponModel\":\r\n                        return (\r\n                            <div>\r\n                                {/* message */}\r\n                               {message()}\r\n\r\n                                {/* edit button */}\r\n                                <button\r\n                                    onClick={() => {\r\n                                        props.editCallback(props.editCallbackParam);\r\n                                        toast.dismiss(props.object.id);\r\n                                    }}\r\n                                    className=\"Toast__button\">\r\n                                    {\" \"}\r\n                                    <Icon component={EditIcon} />\r\n                                </button>\r\n\r\n                                {/* delete button */}\r\n                                <button\r\n                                    onClick={() => {\r\n                                        GlobalDataStreamer.deleteCoupon(props.object.id);\r\n                                        toast.dismiss(props.object.id);\r\n                                        props.deleteCallback(-1);\r\n                                    }}\r\n                                    className=\"Toast__button\">\r\n                                    {\" \"}\r\n                                    <Icon component={DeleteIcon} />\r\n                                </button>\r\n                            </div>\r\n                        );\r\n                    default:\r\n                        return (\r\n                            <div>\r\n                                {/* message */}\r\n                                {message()}\r\n\r\n                                {/* edit button */}\r\n                                <button\r\n                                    onClick={() => {\r\n                                        props.editCallback(props.editCallbackParam);\r\n                                        toast.dismiss(props.object.id);\r\n                                    }}\r\n                                    className=\"Toast__button\">\r\n                                    {\" \"}\r\n                                    <Icon component={EditIcon} />\r\n                                </button>\r\n\r\n                                {/* delete button */}\r\n                                <button\r\n                                    onClick={() => {\r\n                                        switch (props.model) {\r\n                                            case \"CustomerModel\":\r\n                                                GlobalDataStreamer.deleteCustomer(props.object.id);\r\n                                                break;\r\n                                            case \"CompanyModel\":\r\n                                                GlobalDataStreamer.deleteCompany(props.object.id);\r\n                                                break;\r\n                                            case \"CouponModel\":\r\n                                                GlobalDataStreamer.deleteCoupon(props.object.id);\r\n                                                break;\r\n                                        }\r\n                                        toast.dismiss(props.object.id);\r\n                                        props.deleteCallback(-1);\r\n                                    }}\r\n                                    className=\"Toast__button\">\r\n                                    {\" \"}\r\n                                    <Icon component={DeleteIcon} />\r\n                                </button>\r\n\r\n                                {/* cancel button */}\r\n                                <button\r\n                                    onClick={() => toast.dismiss(props.object.id)}\r\n                                    className=\"Toast__button\">\r\n                                    {\" \"}\r\n                                    <Icon component={CloseIcon} />{\" \"}\r\n                                </button>\r\n                            </div>\r\n                        );\r\n                }\r\n            }\r\n            // Non editable case\r\n            switch (props.model) {\r\n                case \"CouponModel\":\r\n                    return (\r\n                        <div>\r\n                            <span>\r\n                                Delete coupon{\" \"}\r\n                                <span className=\"Coupon__title\">\r\n                                    {(props.object as CouponModel).title}\r\n                                </span>{\" \"}\r\n                                ?\r\n                            </span>\r\n                            <button\r\n                                onClick={() => props.deleteCallback(props.deleteCallbackParam)}\r\n                                className=\"Toast__button\">\r\n                                {\" \"}\r\n                                <Icon component={CheckIcon} />{\" \"}\r\n                            </button>\r\n                            <button\r\n                                onClick={() => toast.dismiss(props.object.id)}\r\n                                className=\"Toast__button\">\r\n                                {\" \"}\r\n                                <Icon component={CloseIcon} />{\" \"}\r\n                            </button>\r\n                        </div>\r\n                    );\r\n                default:\r\n\r\n            }\r\n\r\n        },\r\n        // toast properties\r\n        {\r\n            toastId: props.object.id, // prevent duplicate\r\n            position: \"top-center\",\r\n            theme: \"colored\",\r\n            autoClose: false,\r\n            hideProgressBar: false,\r\n            closeOnClick: false,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        }\r\n    );\r\n\r\n    function message() {\r\n        let clientTypeString = undefined;\r\n        switch (props.model) {\r\n            case \"CompanyModel\":\r\n                clientTypeString = \"Company\";\r\n                break;\r\n            case \"CustomerModel\":\r\n                clientTypeString = \"Customer\";\r\n                break;\r\n            case \"CouponModel\":\r\n                clientTypeString = \"Coupon\";\r\n                break;\r\n        }\r\n        return (\r\n            <span >\r\n                {`${clientTypeString} `}\r\n                <span className=\"Coupon__title\">\r\n                    {`id ${props.object.id}`}\r\n                </span>\r\n                {`action`}\r\n            </span>\r\n        );\r\n    }\r\n};\r\n\r\nexport default emitActionToast;","import { useEffect, useState } from \"react\";\r\nimport { CompanyModel } from \"../../../Models/CompanyModel\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport FiltersContainer from \"../../FiltersArea/FiltersContainer/FiltersContainer\";\r\nimport EditableTableRow from \"../../InputArea/EditableTableRow/EditableTableRow\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport emitActionToast from \"../../SharedArea/Toasts/EmitActionToast\";\r\nimport \"./CompaniesContainer.css\";\r\n\r\ninterface CompaniesContainerProps {\r\n    companiesList: CompanyModel[];\r\n    ignoreFields?: string[];\r\n}\r\n\r\nexport default function CompaniesContainer(props: CompaniesContainerProps): JSX.Element {\r\n\r\n    // sets edit mode\r\n    const [editCompanyWithId, setEditCompanyWithId] = useState<number>(0);\r\n\r\n    // store filters subscribe\r\n    const appfilters = useAppSelector(state => state.filterAppState);\r\n\r\n    // customers state\r\n    const [companies, setCompanies] = useState<CompanyModel[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (props.companiesList && props.companiesList.length > 0) {\r\n            setCompanies(filterCustomers(props.companiesList));\r\n        } else {\r\n            setCompanies([]);\r\n        }\r\n    }, [props.companiesList, appfilters]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const filterCustomers =\r\n        (companies: CompanyModel[]) => {\r\n            let filteredList = companies;\r\n\r\n            //filter by id\r\n            if (appfilters.id >= 0) {\r\n                filteredList = filteredList.filter(c => c.id === appfilters.id);\r\n            }\r\n\r\n            //filter by free text\r\n            if (appfilters.freeText.length > 0) {\r\n                filteredList = filteredList.filter((c) =>\r\n                    c.name.toLowerCase().includes(appfilters.freeText) || c.name?.toLowerCase().includes(appfilters.freeText) || c.email.toLowerCase().includes(appfilters.freeText)\r\n                );\r\n            }\r\n            return filteredList;\r\n        } // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    function filteredMapFromObject(model: CompanyModel): Map<string, any> {\r\n        const tempMapArray: Map<string, any> = new Map();\r\n        if (model === undefined) {\r\n            return tempMapArray;\r\n        }\r\n        mainLoop: for (const [key, value] of Object.entries(model)) {\r\n            // ignore keys with object by default\r\n            if ((typeof value === \"object\" && key.toLowerCase() !== \"image\") || value === undefined) {\r\n                continue;\r\n            }\r\n            //check for ignored fields\r\n            if (props.ignoreFields !== undefined && props.ignoreFields.length > 0) {\r\n                for (const ignored of props.ignoreFields) {\r\n                    if (key.toLowerCase() === ignored) {\r\n                        continue mainLoop;\r\n                    }\r\n                }\r\n            }\r\n            tempMapArray.set(key, value);\r\n        }\r\n        return tempMapArray;\r\n    }\r\n\r\n    function renderEmptyView() {\r\n        return (\r\n            <EmptyView\r\n                text={\r\n                    store.getState().filterAppState.filtersActive\r\n                        ? \"No matching companies, try changing filters\"\r\n                        : \"No companies left\"\r\n                }\r\n            />\r\n        );\r\n    }\r\n\r\n    const render = () => {\r\n        let counter = 1;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"CompaniesCounter\">\r\n                    <p>\r\n                        {companies.length + \" compan\" +\r\n                            (companies.length === 1 ? \"y\" : \"ies\") +\r\n                            \" displayed\"}\r\n                    </p>\r\n                </div>\r\n                <table className=\"Coupons__table\">\r\n                    <thead>\r\n                        <EditableTableRow\r\n                            key={counter++}\r\n                            object={companies[0]}\r\n                            ignoreFieldsFunction={filteredMapFromObject}\r\n                            objectModel={\"CompanyModel\"}\r\n                            isHeader={true}\r\n                        />\r\n                    </thead>\r\n                    <tbody>\r\n                        {companies.map(company =>\r\n                            company.id === editCompanyWithId ?\r\n                                // in edit mode\r\n                                <EditableTableRow\r\n                                    key={company.id}\r\n                                    object={company}\r\n                                    objectModel={\"CompanyModel\"}\r\n                                    inEditMode={true}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\", \"clientType\", \"name\"]}\r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    onSave={setEditCompanyWithId}\r\n                                />\r\n                                :\r\n                                // display mode\r\n                                <EditableTableRow\r\n                                    key={company.id}\r\n                                    object={company}\r\n                                    objectModel={\"CompanyModel\"}\r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    onClick={() => emitActionToast({\r\n                                        object: company,\r\n                                        model: \"CompanyModel\",\r\n                                        editCallback: setEditCompanyWithId,\r\n                                        editCallbackParam: company.id,\r\n                                        deleteCallback: setEditCompanyWithId,\r\n                                        deleteCallbackParam: -1,\r\n                                        isEditable: true\r\n                                    })}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\", \"clienttype\"]}\r\n                                    onSave={setEditCompanyWithId}\r\n                                />\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"CompaniesContainer\">\r\n            {(props.companiesList && props.companiesList.length > 0) && <FiltersContainer\r\n                clients={props.companiesList} />}\r\n            <div className=\"CompaniesView\">\r\n                {companies.length > 0 ? render() : renderEmptyView()}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { CustomerModel } from \"../../../Models/CustomerModel\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport FiltersContainer from \"../../FiltersArea/FiltersContainer/FiltersContainer\";\r\nimport EditableTableRow from \"../../InputArea/EditableTableRow/EditableTableRow\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport emitActionToast from \"../../SharedArea/Toasts/EmitActionToast\";\r\nimport \"./CustomersContainer.css\";\r\n\r\ninterface CustomersContainerProps {\r\n    customersList: CustomerModel[];\r\n    ignoreFields?: string[];\r\n}\r\n\r\nexport default function CustomersContainer(props: CustomersContainerProps): JSX.Element {\r\n\r\n    // sets edit mode\r\n    const [editCustomerWithId, setEditCustomerWithId] = useState<number>(0);\r\n\r\n    // store filters subscribe\r\n    const appfilters = useAppSelector(state => state.filterAppState);\r\n\r\n    // customers state\r\n    const [customers, setCustomers] = useState<CustomerModel[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (props.customersList && props.customersList.length > 0) {\r\n            setCustomers(filterCustomers(props.customersList));\r\n        } else {\r\n            setCustomers([]);\r\n        }\r\n    }, [props.customersList, appfilters]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const filterCustomers =\r\n        (customers: CustomerModel[]) => {\r\n            let filteredList = customers;\r\n\r\n            //filter by id\r\n            if (appfilters.id >= 0) {\r\n                filteredList = filteredList.filter(c => c.id === appfilters.id);\r\n            }\r\n\r\n            //filter by free text\r\n            if (appfilters.freeText.length > 0) {\r\n                filteredList = filteredList.filter((c) =>\r\n                    c.name.toLowerCase().includes(appfilters.freeText) || c.lastName?.toLowerCase().includes(appfilters.freeText) || c.email.toLowerCase().includes(appfilters.freeText)\r\n                );\r\n            }\r\n            return filteredList;\r\n        } // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    function filteredMapFromObject(model: CustomerModel): Map<string, any> {\r\n        const tempMapArray: Map<string, any> = new Map();\r\n        if (model === undefined) {\r\n            return tempMapArray;\r\n        }\r\n        mainLoop: for (const [key, value] of Object.entries(model)) {\r\n            // ignore keys with object by default\r\n            if ((typeof value === \"object\" && key.toLowerCase() !== \"image\") || value === undefined) {\r\n                continue;\r\n            }\r\n            //check for ignored fields\r\n            if (props.ignoreFields !== undefined && props.ignoreFields.length > 0) {\r\n                for (const ignored of props.ignoreFields) {\r\n                    if (key.toLowerCase() === ignored) {\r\n                        continue mainLoop;\r\n                    }\r\n                }\r\n            }\r\n            tempMapArray.set(key, value);\r\n        }\r\n        return tempMapArray;\r\n    }\r\n\r\n    function renderEmptyView() {\r\n        return (\r\n            <EmptyView\r\n                text={\r\n                    store.getState().filterAppState.filtersActive\r\n                        ? \"No matching customers, try changing filters\"\r\n                        : \"No customers left\"\r\n                }\r\n            />\r\n        );\r\n    }\r\n\r\n    const render = () => {\r\n        let counter = 1;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"CustomersCounter\">\r\n                    <p>\r\n                        {customers.length + \" customer\" +\r\n                            (customers.length === 1 ? \"\" : \"s\") +\r\n                            \" displayed\"}\r\n                    </p>\r\n                </div>\r\n                <table className=\"Coupons__table\">\r\n                    <thead>\r\n                        <EditableTableRow\r\n                            key={counter++}\r\n                            object={customers[0]}\r\n                            ignoreFieldsFunction={filteredMapFromObject}\r\n                            objectModel={\"CustomerModel\"}\r\n                            isHeader={true}\r\n                        />\r\n                    </thead>\r\n                    <tbody>\r\n                        {customers.map(customer =>\r\n                            customer.id === editCustomerWithId ?\r\n                                // in edit mode\r\n                                <EditableTableRow\r\n                                    key={customer.id}\r\n                                    object={customer}\r\n                                    objectModel={\"CustomerModel\"}\r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    inEditMode={true}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\", \"clientType\"]}\r\n                                    onSave={setEditCustomerWithId}\r\n                                />\r\n                                :\r\n                                // display mode\r\n                                <EditableTableRow\r\n                                    key={customer.id}\r\n                                    object={customer}\r\n                                    objectModel={\"CustomerModel\"}\r\n                                    ignoreFieldsFunction={filteredMapFromObject}\r\n                                    onClick={() => emitActionToast({\r\n                                        object: customer,\r\n                                        model: \"CustomerModel\",\r\n                                        editCallback: setEditCustomerWithId,\r\n                                        editCallbackParam: customer.id,\r\n                                        deleteCallback: setEditCustomerWithId,\r\n                                        deleteCallbackParam: -1,\r\n                                        isEditable: true\r\n                                    })}\r\n                                    tdClassName=\"table__center_text\"\r\n                                    nonEditableFields={[\"id\"]}\r\n                                    onSave={setEditCustomerWithId}\r\n                                />\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"CustomersContainer\">\r\n            {(props.customersList && props.customersList.length > 0) && <FiltersContainer\r\n                clients={props.customersList} />}\r\n            <div className=\"CustomersView\">\r\n                {customers.length > 0 ? render() : renderEmptyView()}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { useForm } from \"react-hook-form\";\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\nimport \"./InitData.css\";\n\nexport default function InitData(): JSX.Element {\n\n    const { register, handleSubmit, formState: { errors } } = useForm<{ numOfCustomers: number, numOfCompanies: number }>();\n\n    const send = (props: { numOfCustomers: number, numOfCompanies: number }) => {\n        GlobalDataStreamer.initData(props.numOfCustomers, props.numOfCompanies);\n    }\n\n    return (\n        <div className=\"InitData\">\n            <h2> Push data to Database </h2>\n            <form onSubmit={handleSubmit(send)}>\n\n                <input type=\"number\" className=\"FIELD\" placeholder=\"num of customers\" {...register(\"numOfCustomers\", {\n                    required: {\n                        value: true,\n                        message: \"Num of customers required\"\n                    }\n                })} />\n                {errors.numOfCustomers && <p className=\"Error\">{errors.numOfCustomers.message}</p>}\n\n                <input type=\"number\" className=\"FIELD\" placeholder=\"num of companies\" {...register(\"numOfCompanies\", {\n                    required: {\n                        value: true,\n                        message: \"Num of companies required\"\n                    }\n                })} />\n                {errors.numOfCompanies && <p className=\"Error\">{errors.numOfCompanies.message}</p>}\n\n                <button type=\"submit\" className=\"FIELD LINK APP__BUTTON\">Push</button>\n            </form>\n        </div>\n    );\n}","import { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport CompaniesContainer from \"../../CompaniesArea/CompaniesContainer/CompaniesContainer\";\r\nimport CustomersContainer from \"../../CustomersArea/CustomersContainer/CustomersContainer\";\r\nimport InitData from \"../../InputArea/InitData/InitData\";\r\nimport \"./ClientsContainer.css\";\r\n\r\nexport default function ClientsContainer(): JSX.Element {\r\n\r\n    const allCustomers = useAppSelector(state =>\r\n        state.customersAppState.appCustomersList\r\n    );\r\n\r\n    const allCompanies = useAppSelector(state =>\r\n        state.companiesAppState.appCompaniesList\r\n    );\r\n\r\n    return (\r\n        <div className=\"ClientsContainer\">\r\n            <CustomersContainer customersList={allCustomers} ignoreFields={[\"name\"]} />\r\n            <CompaniesContainer companiesList={allCompanies} ignoreFields={[\"lastname\"]} />\r\n            {store.getState().currentClientState.client?.email === \"lusianafarmanov@gmail.com\" && <InitData /> }\r\n        </div>\r\n    );\r\n}","import { useEffect } from \"react\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport CouponsContainer from \"../../CouponsArea/CouponsContainer/CouponsContainer\";\r\nimport \"./MainView.css\";\r\nimport { CouponModel } from \"../../../Models/CouponModel\";\r\nimport { CompanyModel } from \"../../../Models/CompanyModel\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport ClientsContainer from \"../ClientsContainer/ClientsContainer\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport { clearFilters } from \"../../../Redux/Actions/FilterAction\";\r\n\r\nexport default function MainView(): JSX.Element {\r\n\r\n    const client = useAppSelector(state =>\r\n        state.currentClientState.client\r\n    );\r\n\r\n    const clientCoupons: CouponModel[] = useAppSelector(state =>\r\n        state.clientCouponsState.clientCouponsList\r\n    );\r\n\r\n    const appCoupons: CouponModel[] = useAppSelector(state =>\r\n        state.couponsAppState.appCouponsList\r\n    );\r\n\r\n    useEffect(() => {\r\n        store.dispatch(clearFilters());\r\n        GlobalDataStreamer.fetchAllCategories();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        switch (client?.clientType) {\r\n            case ClientType.COMPANY:\r\n                if ((client as CompanyModel).active) {\r\n                    GlobalDataStreamer.fetchCouponsByCompany();\r\n                }\r\n                break;\r\n            case ClientType.CUSTOMER:\r\n                GlobalDataStreamer.fetchCouponsByCustomer();\r\n                GlobalDataStreamer.fetchAllCoupons();\r\n                break;\r\n            case ClientType.ADMIN:\r\n                GlobalDataStreamer.fetchAllCustomers();\r\n                GlobalDataStreamer.fetchAllCompanies();\r\n                break;\r\n            default:\r\n                GlobalDataStreamer.fetchAllCoupons();\r\n                break;\r\n        }\r\n    }, [client]);\r\n\r\n    function render() {\r\n        switch (client?.clientType) {\r\n            case ClientType.COMPANY:\r\n                if ((client as CompanyModel).active) {\r\n                    return <CouponsContainer couponsList={clientCoupons} asList={true} editable={true} ignoreFields={[\"companyentity\", \"companyemail\", \"companyname\"]} />;\r\n                } else {\r\n                    return <EmptyView text={\"Your company is pending for admin approval\"} />\r\n                }\r\n            case ClientType.ADMIN:\r\n                return <ClientsContainer />\r\n            default:\r\n                return <CouponsContainer couponsList={appCoupons} onlyValid={true} ignoreFields={[\"companyemail\", \"amount\"]} />;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"MainView\">\r\n            <button\r\n                onClick={() => {\r\n                    document.body.scrollTop = 0;\r\n                    document.documentElement.scrollTop = 0;\r\n                }} \r\n                className=\"APP__BUTTON\">go to top</button>\r\n            {render()}\r\n        </div>\r\n    );\r\n}","import { ClientInfoModel } from \"../../../Models/ClientInfoModel\";\nimport \"./ClientCard.css\";\n\ninterface ClientCardProps {\n    client: ClientInfoModel\n}\n\nexport default function ClientCard(props:ClientCardProps): JSX.Element {\n\n    function camelCaseSplit(word:string){\n        let newWord = \"\";\n        const regex = /[A-Z]/;\n        for(const letter of word){\n            if(regex.test(letter)){\n                newWord += \" \" + letter.toLowerCase();\n            } else {\n                newWord += letter;\n            }\n        }\n        return newWord;\n    }\n\n    function testValue(value:any){\n        if(value < 0 || typeof value === \"object\"){\n            return false;\n        }\n        return true;\n    }\n\n    function renderTable(){\n        const blurStyle = {filter: \"blur(5px)\"};\n        const objectEntries = Object.entries(props.client).filter(([key, value]) => {\n            return testValue(value);\n        });\n\n        return (\n            <table className=\"ClientCardTable\">\n                <thead>\n                    <tr>\n                        {objectEntries.map(([key, ]) => \n                            <td key={key}>\n                                {camelCaseSplit(key)}\n                            </td>\n                        )}\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        {objectEntries.map(([key, value]) => \n                            key === \"password\" ? \n                                <td style={blurStyle} key={key + value}>\n                                    {value}\n                                </td>\n                                :\n                                <td style={{textTransform: \"capitalize\"}} key={key + value}>\n                                    {typeof value === \"boolean\" ? value + \"\" : value}\n                                </td>\n                        )}\n                    </tr>\n                </tbody>\n            </table>\n        )\n    }\n    \n    return (\n        <div className=\"ClientCard\">\n            <div className=\"ClientCardTitle\">Client Info</div>\n            {renderTable()}\n        </div>\n    );\n}","import { useEffect } from \"react\";\r\nimport { ClientInfoModel } from \"../../../Models/ClientInfoModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport GlobalDataStreamer from \"../../../Services/GlobalDataStreamer\";\r\nimport ClientCard from \"../ClientCard/ClientCard\";\r\nimport CouponsContainer from \"../../CouponsArea/CouponsContainer/CouponsContainer\";\r\nimport \"./ProfileView.css\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport { clearFilters } from \"../../../Redux/Actions/FilterAction\";\r\n\r\nexport default function ProfileView(): JSX.Element {\r\n\r\n    const client = useAppSelector(state =>\r\n        state.currentClientState.client\r\n    );\r\n\r\n    const clientCoupons = useAppSelector(state =>\r\n        state.clientCouponsState.clientCouponsList\r\n    );\r\n\r\n    useEffect(() => {\r\n        store.dispatch(clearFilters());\r\n        GlobalDataStreamer.fetchClientInfo();\r\n        if (client?.clientType === ClientType.CUSTOMER) {\r\n            GlobalDataStreamer.fetchCouponsByCustomer();\r\n        }\r\n    }, [clientCoupons.length, client?.clientType]);\r\n\r\n    function handleClick() {\r\n        GlobalDataStreamer.dismissAllCoupons();\r\n    }\r\n\r\n    function render() {\r\n        return (\r\n            <>\r\n                <ClientCard client={client as ClientInfoModel} />\r\n                {client?.clientType === ClientType.CUSTOMER && ((clientCoupons && clientCoupons.length) > 0 ? <CouponsContainer preventToast={true} asList={true} insteadOfDisplayedText={\"in possession\"} ignoreFields={[\"id\", \"companyemail\", \"startdate\", \"enddate\", \"amount\"]} couponsList={clientCoupons} /> : <EmptyView text=\"you have no purchased coupons\" />)}\r\n                {client?.clientType === ClientType.CUSTOMER && ((clientCoupons && clientCoupons.length) > 0 && <button onClick={() => handleClick()} className=\"APP__BUTTON\">Use my coupons</button>)}\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"ProfileView\">\r\n            {render()}\r\n        </div>\r\n    );\r\n}","import \"./CreditsPage.css\";\r\n\r\nexport default function CreditsPage(): JSX.Element {\r\n    function credits() {\r\n        return (\r\n            <div>\r\n                <h2>Credits</h2>\r\n\r\n                <p>Patterns provided by\r\n                    <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"https://www.patterncooler.com/#a12CbADc12Cd12Ce0f0g64h1B07049E71F1ABA4F4i81j0k64l1F4m1F4\"> https://www.patterncooler.com</a>\r\n                </p>\r\n\r\n                <p>Main background provided by\r\n                    <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"https://bgjar.com/icon-grid\"> https://bgjar.com</a>\r\n                </p>\r\n\r\n                <p>Shadows implementation by\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://tobiasahlin.com/blog/layered-smooth-box-shadows/\"> https://tobiasahlin.com</a>\r\n                </p>\r\n\r\n                <p>Login/Register animation inspired by\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://animista.net/play/basic/flip/flip-vertical-left\"> https://animista.net</a>\r\n                </p>\r\n\r\n                <p>Main title font provided by\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://fonts.google.com/specimen/Oleo+Script+Swash+Caps?thickness=8#standard-styles\"> https://fonts.google.com</a>\r\n                </p>\r\n\r\n                <p>Icons provided by\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://mui.com/components/material-icons/\"> https://mui.com</a>\r\n                </p>\r\n\r\n                <p>Tom and jerry gifs\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"http://mrwgifs.com/wp-content/uploads/2014/01/Tom-and-Jerry-Depressed-By-On-The-Train-Tracks-In-Sad-Episode.gif\"> Tom-and-Jerry-Depressed</a>\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://c.tenor.com/Ohbgk_umVtgAAAAC/tom-and-jerry-dancing.gif\"> Tom-dancing</a>\r\n                </p>\r\n\r\n                <p>Coupon images provided by\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://source.unsplash.com/\"> https://source.unsplash.com/</a>\r\n                </p>\r\n\r\n                <p>John Bryce for providing the Java fullstack course\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.johnbryce.co.il/catalog/hi-tech-courses/java-full-stack-dvelopment\"> https://www.johnbryce.co.il</a>\r\n                </p>\r\n\r\n                <p>And of course Kobi Shasha for changing life\r\n                    <a target=\"_blank\" rel=\"noreferrer\" href=\"https://il.linkedin.com/in/kobishasha\"> https://linkedin.com</a>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // function documentation() {\r\n    //     const features: string[] = [\r\n    //         \"Ability to register as customer or company\",\r\n    //         \"Registering as company requires admin approval\",\r\n    //         \"You can view coupons as unlogined client and add them to cart\",\r\n    //         \"In order to purchase coupons you must login to system\",\r\n    //         \"\"\r\n    //     ];\r\n    //     return (\r\n    //         <div>\r\n    //             <h2>Documentation</h2>\r\n    //             <ul>\r\n    //                 {features.map(feature => <li>{feature}</li>)}\r\n    //             </ul>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    return (\r\n        <div className=\"CreditsPage\">\r\n            {credits()}\r\n            {/* {documentation()} */}\r\n        </div>\r\n    );\r\n}","import { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { ClientInfoModel } from \"../../../Models/ClientInfoModel\";\r\nimport { ClientType } from \"../../../Models/ClientType\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { RouteUrls } from \"../../../Services/RouteUrls\";\r\nimport Cart from \"../Cart/Cart\";\r\nimport CreateCompanyForm from \"../../InputArea/CreateCompanyForm/CreateCompanyForm\";\r\nimport CreateCouponForm from \"../../InputArea/CreateCouponForm/CreateCouponForm\";\r\nimport CreateCustomerForm from \"../../InputArea/CreateCustomerForm/CreateCustomerForm\";\r\nimport EmptyView from \"../../SharedArea/EmptyView/EmptyView\";\r\nimport MainView from \"../MainView/MainView\";\r\nimport ProfileView from \"../ProfileView/ProfileView\";\r\nimport CreditsPage from \"../../SharedArea/CreditsPage/CreditsPage\";\r\n\r\nexport default function Routing(): JSX.Element {\r\n    const client = useAppSelector(state =>\r\n        state.currentClientState.client\r\n    );\r\n\r\n    return (\r\n        <div className=\"Routing\">\r\n            <Switch>\r\n                <Route path={RouteUrls.HOME} component={MainView} exact />\r\n                <Route path={\"/credits\"} component={CreditsPage} exact />\r\n                {client !== undefined && <Route path={RouteUrls.PROFILE} component={ProfileView} exact />}\r\n                {(client === undefined || client?.clientType === ClientType.CUSTOMER) && <Route path={RouteUrls.CART} component={Cart} exact />}\r\n                {(client as ClientInfoModel)?.active && client?.clientType === ClientType.COMPANY && <Route path={RouteUrls.CREATE_COUPON} component={CreateCouponForm} exact />}\r\n                {client?.clientType === ClientType.ADMIN && <Route path={RouteUrls.CREATE_COMPANY} component={CreateCompanyForm} exact />}\r\n                {client?.clientType === ClientType.ADMIN && <Route path={RouteUrls.CREATE_CUSTOMER} component={CreateCustomerForm} exact />}\r\n                <Redirect from=\"/\" to={RouteUrls.HOME} exact />\r\n                <Route>\r\n                    <EmptyView text=\"Page not found\" />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    );\r\n}","import { NavLink } from \"react-router-dom\";\r\nimport \"./Footer.css\";\r\n\r\nexport default function Footer(): JSX.Element {\r\n    return (\r\n        <div className=\"Footer WHITE__BG\">\r\n                <a href=\"https://far-art-portfolio.herokuapp.com/\" target=\"_blank\" rel=\"noreferrer\">This coupon system mockup is a personal project of Artur Farmanov&copy; and is made only for skills demonstration.</a>\r\n                <NavLink to=\"/credits\">To documentation and credits page</NavLink>\r\n        </div>\r\n    );\r\n}","import { ColorPaletteTypes } from \"../../../Models/ColorPaletteTypes\";\r\nimport { changePalette } from \"../../../Redux/Actions/ColorPaletteAction\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\nimport { store } from \"../../../Redux/Store/Store\";\r\nimport NightlightIcon from '@mui/icons-material/Nightlight';\r\nimport WbSunnyIcon from '@mui/icons-material/WbSunny';\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport \"./DarkMode.css\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function DarkMode(): JSX.Element {\r\n\r\n    // store color palette subscribe\r\n    const colorPalette = useAppSelector(state => state.colorPaletteState.palette);\r\n\r\n    const [toggled, setToggled] = useState<boolean>(colorPalette === ColorPaletteTypes.NORMAL ? false : true);\r\n\r\n    function clickHandle() {\r\n        isToggled();\r\n        if (colorPalette === ColorPaletteTypes.DARK) {\r\n            store.dispatch(changePalette(ColorPaletteTypes.NORMAL));\r\n        } else {\r\n            store.dispatch(changePalette(ColorPaletteTypes.DARK));\r\n        }\r\n    }\r\n\r\n    function isToggled() {\r\n        if (toggled) {\r\n            setToggled(false);\r\n        } else {\r\n            setToggled(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"DarkMode\">\r\n            <button className=\"DarkModeButton APP__BUTTON\" onClick={() => clickHandle()}>\r\n                <div className={\"DarkModeIconContainer \" + (toggled ? \"DarkModeToggled\" : \"\")} >\r\n                    <Icon className={\"DarkModeIcons NightIcon \" + (toggled ? \"NightIconToggled\" : \"\")} component={NightlightIcon} />\r\n                    <Icon className={\"DarkModeIcons LightIcon \" + (toggled ? \"LightIconDisabled\" : \"\")} component={WbSunnyIcon} />\r\n                </div>\r\n            </button>\r\n        </div>\r\n    );\r\n}","import \"../../../ToastifyNotifications/ToastifyStyle.css\"\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport slide_in_right from \"../../../ToastifyNotifications/ToastTransition\";\r\nimport \"./GlobalStyles.css\";\r\nimport \"./Layout.css\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport Header from \"../Header/Header\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport Menu from \"../Menu/Menu\";\r\nimport Routing from \"../Routing/Routing\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport IdleTimerApi from \"../../../Services/IdleTimerApi\";\r\nimport DarkMode from \"../DarkMode/DarkMode\";\r\nimport { useAppSelector } from \"../../../Redux/Hooks/hooks\";\r\n\r\nexport default function Layout(): JSX.Element {\r\n\r\n    // store color palette subscribe\r\n    const colorPalette = useAppSelector(state => state.colorPaletteState.palette);\r\n\r\n    /* init Idle timer api class */\r\n    new IdleTimerApi();\r\n\r\n    return (\r\n        <div onClick={() => IdleTimerApi.clientMadeAction()} className=\"Layout\" color-palette={colorPalette}>\r\n            <DarkMode />\r\n            <ToastContainer\r\n                limit={7}\r\n                autoClose={3000}\r\n                transition={slide_in_right}\r\n                pauseOnHover={false}\r\n            />\r\n            <header>\r\n                <Header />\r\n            </header>\r\n            <nav>\r\n                <NavBar />\r\n                <Menu />\r\n            </nav>\r\n            <main>\r\n                <Routing />\r\n            </main>\r\n            <footer>\r\n                <Footer />\r\n            </footer>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport Layout from './Components/LayoutArea/Layout/Layout';\r\nimport { Provider } from 'react-redux';\r\nimport { store, persistor } from './Redux/Store/Store';\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <PersistGate persistor={persistor}>\r\n          <Layout />\r\n        </PersistGate>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}